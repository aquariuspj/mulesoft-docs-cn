=  X12 EDI连接器参考

== 默认配置

=== 参数

[%header%autowidth.spread]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
|名称 | 字符串 | 此配置的名称。连接器使用该名称引用配置。 |  | x
| 到期策略a |  ExpirationPolicy  |  配置动态配置实例在运行时认为有资格到期之前可保持空闲的最短时间。这并不意味着平台会在合格的时刻到期。运行时会根据实际情况清除实例。 |   |
|  Mule ID限定符a | 字符串 |  用于交换Mule的ID限定符（ISA段）。该值与自我识别交换ID值结合使用，如果设置了一个，则另一个也必须设置。如果设置了该值，则会影响发送和接收消息处理。在接收端，ISA交换接收方ID限定符必须匹配此值。在发送端，当未在消息数据中设置此值时，此值将用作默认的ISA交换发件人ID限定符。 |   |
|  Mule交换ID a | 字符串 |   ID作为交换（ISA段）。该值与自我识别交换ID限定符值一起使用，如果设置了一个，则另一个也必须设置。如果设置了该值，则会影响发送和接收消息处理。在接收端，ISA交换接收器ID必须与此值匹配。在发送端，当未在消息数据中设置时，此值将用作默认ISA互换发送者ID。 |   |
|  Mule应用程序代码| 字符串 |  组中的骡子应用程序代码（GS段）。如果设置了该值，则会影响发送和接收消息处理。在接收端，GS应用接收者代码必须与此值匹配。在发送端，当未在消息数据中设置时，此值将用作默认的GS应用发件人代码。 |   |
| 合作伙伴ID限定词a | 字符串 |   ID限定符用于交换伙伴（ISA段）。该值与合作伙伴身份识别交换ID值结合使用，如果设置了一个，则另一个也必须设置。如果设置了该值，则会影响发送和接收消息处理。在接收方，ISA交换发件人ID限定符必须匹配此值。在发送端，当未在消息数据中设置时，此值将用作默认的ISA Interchange Receiver ID限定符。 |   |
| 合作伙伴交换ID a | 字符串 |  交换伙伴ID（ISA段）。该值与合作伙伴身份识别交换ID限定符值结合使用，如果设置了一个，则另一个也必须设置。如果设置了该值，则会影响发送和接收消息处理。在接收方，ISA交换发件人ID必须匹配此值。在发送端，当未在消息数据中设置时，此值将用作默认的ISA交换接收者ID。 |   |
| 合作伙伴应用程序代码| 字符串 |  应用程序代码（GS片段）中的合作伙伴。如果设置了该值，则会影响发送和接收消息处理。在接收方，GS应用发件人代码必须与此值匹配。在发送端，当未在消息数据中设置时，此值将用作默认的GS应用接收者代码。 |   |
| 形成并验证| 枚举，其中一个：

**  X12
**  HIPAA_SNIP1
**  HIPAA_SNIP2  | 模式表单和验证级别。配置中使用的模式必须匹配选定的格式，X12或HIPAA。 SNIP类型1和类型2验证仅适用于HIPAA模式。 |   X12  |
| 模式定义a | 字符串数组 | 连接器要使用的模式路径列表。路径可以是文件系统或类路径。 |   | x
| 编码| 枚举的字符，其中一个：

**  PLATFORM
**  ASCII
**  ISO8859_1
**  IBM1047
**  UTF8  | 消息的字符编码。此字符编码始终用于发送和接收消息。 |   PLATFORM  |
| 字符设置| 枚举，其中一个：

**  BASIC
**  EXTENDED
**  UNRESTRICTED  | 字符串数据允许使用的字符。如果使用了替换字符，则无效字符会被替换字符替换;如果在解析器选项中未设置或未启用接收消息，则将无效字符替换为错误。无论哪种方式，都将记录无效字符，并在997个功能确认中报告接收消息。 |   EXTENDED  |
| 替换字符a | 字符串 | 用于替换字符串值中的无效字符的替换字符。 |   |
| 版本标识符后缀a | 字符串 |  组（GS分段）的版本标识代码后缀。如果设置了该值，则会影响发送和接收消息处理。在接收端，GS版本，发行版和行业标识符代码必须包含X12架构版本（004010,005010等），后跟此后缀。如果未设置此值，则接收仅验证GS版本标识码是否从配置的模式版本开始。在发送端，将X12架构版本和此后缀的组合用作GS版本标识码。 |   |
| 强制限制a | 布尔值 |  强制接收值的最小和最大长度。如果属实，则价值过长或过短的交易将被拒绝;如果为false，则无论如何都会使用这些值，并且交易不会被拒绝。无论是哪种情况，都会记录错误并在997/999确认中进行报告。 |   true  |
| 强制字符集| 布尔值 |  强制允许字符集标志。如果是，则拒绝具有无效字符的交易;如果为false，则字符将被传递或替换，并且交易不会被拒绝。无论哪种情况，都会在997/999确认中报告错误。 |   true  |
| 强制值重复| 布尔值 |  为接收值强制重复计数限制。如果属实，则重复太多次或太少次的值的交易将被拒绝;如果为false，则价值被接受并且交易不被拒绝。无论哪种情况，都会在997/999确认中报告错误。 |   true  |
| 允许未知段a | 布尔值 |  允许事务集中的未知段。如果为false，则包含任何未知分段的交易将被拒绝;如果为true，则忽略未知段，并且不拒绝该事务。无论哪种情况，都会在997/999确认中报告错误。 |   false  |
| 强制执行段顺序a | 布尔 |  在事务集中强制执行段顺序。如果属实，则不符合细分市场的交易将被拒绝;如果为false并且该段可以重新排序，则该交易不会被拒绝。无论哪种情况，都会在997/999确认中报告错误。 |   true  |
| 允许未使用的段a | 布尔值 |  允许在事务集中标记为“未使用”的段。如果为false，则包含在架构中标记为未使用的段的事务将被拒绝;如果属实，则交易不会被拒绝，并且未使用的细分被忽略。无论哪种情况，都会在997/999确认中报告错误。 |   false  |
| 强制分段重复| 布尔 |  强制事务集中的分段重复次数限制。如果属实，则拒绝多次重复段的交易;如果为false，交易不会被拒绝。无论哪种情况，都会在997/999确认中报告错误。 |   true  |
| 要求唯一交换a | 布尔值 |  要求唯一的交换控制号码（ISA13）用于接收的交换。正常行为是记录先前处理的交换号码，并拒绝来自同一伙伴的任何重复交换号码（由交换发送者和接收者标识确定）。如果为false，则允许继续处理接收到的交换并将其留给应用程序流以跟踪数字并进行适当处理。 |   true  |
| 要求唯一组a | 布尔 |  为所接收的功能组强制实施全球唯一的组控制号码（GS06）。默认情况下，组号只需要在交换时是唯一的。如果为true，则需要组号在来自同一伙伴和应用程序的所有交换中是唯一的（由交换发送方和接收方标识，以及功能组发送方和接收方应用代码确定）。 |   false  |
| 要求唯一事务a | 布尔 |  为接收到的事务集强制全局唯一的事务集控制号（ST02）。默认情况下，交易集控制编号只需要与特定的功能组保持一致。如果属实，则需要事务集编号在从同一伙伴和应用程序接收的所有功能组中唯一（由交换发送者和接收者标识以及功能组发送者和接收者应用程序代码确定）。{{3} } {假{4}}
| 存储生存时间| 数字 |  存储交换，组和交易集编号以检查唯一性的最少天数。该值仅在配置需要唯一交换，组和/或交易集编号时使用。来自Mule配置的默认持久对象存储始终用于存储接收到的标识号，并且此参数为这些存储的值设置条目生存时间。 |   30  |
| 确认每个事务|  Boolean  |  为每个接收到的事务集包含一个单独的AK2 / AK5（997）或AK2 / IK5（999）确认。默认情况下，只有包含错误的事务集包含在确认中，事务集不包含隐式确认。更改此标志会导致每个收到的事务集都被明确确认。 |   false  |
| 生成999个确认a | 布尔 |  生成999个实现确认，而不是997个函数确认。默认情况下，为每个接收到的交换生成997个功能确认事务集。更改此标志会导致生成999实现确认。请注意，对999个实施确认的支持不包括CTX细分产生。 |   false  |
| 报告分段详细信息a | 布尔值 |  在997/999中向发件人报告分段错误详细信息。如果为true，则任何段错误的详细信息将包含在生成的997/999中。如果为false，则不包含详细信息。 |   true  |
| 包括确认模式a | 布尔 |  期望997或999个函数式确认并包含997/999模式。默认情况下，997/999确认事务集的模式将自动包含在X12 EDI模块使用的模式集中。如果为false，则需要直接指定997和/或999架构，如果要将它们作为输入进行处理。用于生成997或999功能确认的模式是硬编码的，不能修改。 |   true  |
| 数据元素分隔符a | 字符串 |  数据元素分隔符。所有输出消息默认使用配置的值，但可在消息级别覆盖。 |   *  |
| 组件元素分隔符a | 字符串 |  组件元素分隔符。所有输出消息默认使用配置的值，但可以在消息级别覆盖。 |  >  |
| 重复分隔符a | 字符串 |  重复分隔符（如果使用）。所有输出消息默认使用配置的值，但可以在消息级别覆盖。值'U'表示不使用重复。 |   U  |
| 段终止符a | 字符串 |  段终止符字符。所有输出消息默认使用配置的值，但可以在消息级别覆盖。 |  〜 |
| 结束| 枚举的分段行，其中的一个：

**  NONE
**  LF
**  CRLF
**  CR  |  结束于段之间添加的行。这允许您在段之间添加行尾，以提高输出消息文本的可读性。 |   NONE  |
| 唯一组号码a | 布尔值 |  发送全球唯一的组控制号码（GS06）。默认情况下，功能组控制编号在每个交换内顺序分配，并在不同的交换中重复使用。如果为true，则代之以在发送到相同合作伙伴和应用程序的所有交换中分配唯一的组号（由交换发送方和接收方标识以及功能组发送方和接收方应用代码确定） |   false {{ 4}}
| 唯一交易编号a | 布尔值 |  发送全局唯一的交易集控制编号（ST02）。默认情况下，交易集控制编号在每个功能组内按顺序分配，并在不同的组中重复使用。如果为true，则代之以在发送到同一合作伙伴和应用程序的所有交换处分配唯一的交易集编号（由交换发送方和接收方标识以及功能组发送方和接收方应用代码确定） |   false { {4}}
| 实现引用| 字符串 |  交易的实施公约参考（ST03）。如果设置了此值，则将其用作ST03实施公约参考，除非在消息参数中被覆盖。 |   |
| 初始交换号码a |  Number  |  用于传出消息的初始交换控制号码。 |   1  |
| 初始组号a |  Number  |  用于传出消息的初始组控制号。 |   1  |
| 初始交易编号a | 编号 |  用于传出消息的初始交易集控制编号。 |   1  |
| 请求确认发送事务标志（ISA14）的| 布尔 |  请求确认。如果为true，则会为所有已发送的交易请求997/999确认。 |   false  |
| 默认使用指标a | 字符串 |  默认交换使用指标（ISA15）：I为信息，P为生产数据，T为测试数据。 |   P { {4}}
|===

=== 相关操作

* 读
* 写

== 阅读

`<x12:read>`

将EDI文本的输入流转换为EDI数据的地图和列表结构。

=== 参数

[%header%autowidth.spread]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  | x
| 阅读内容a | 二进制 |   |   `#[payload]`  |
| 目标变量a | 字符串 |  存储操作输出的变量的名称。 |   |
| 目标值a | 字符串 |  用于评估操作输出并将该表达式的结果存储在目标变量中的表达式。 |   `#[payload]`  |
|===

=== 输出

[cols="30a,70a"]
|===
| {键入{1}}对象
|===

=== 用于配置

* 配置

=== 抛出

*  X12：UNKNOWN
*  X12：WRITE
*  X12：SCHEMA
*  X12：解析


== 收件

`<x12:write>`

将EDI数据的地图和列表结构转换为EDI文本流。


=== 参数

[%header%autowidth.spread]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  | x
| 撰写内容a | 对象 |   |   `#[payload]`  |
| 流式策略一个|  *可重复的内存流
* 重复-文件的存储流
*  non-repeatable-stream  |  配置是否应使用可重复的流及其行为。 |   |
| 目标变量a | 字符串 |  存储操作输出的变量的名称。 |   |
| 目标值a | 字符串 |  用于评估操作输出并将该表达式的结果存储在目标变量中的表达式。 |   `#[payload]`  |
|===

=== 输出

[cols="30a,70a"]
|===
| {键入{1}}的二进制
|===

=== 用于配置

* 配置

=== 抛出

*  X12：UNKNOWN
*  X12：WRITE
*  X12：SCHEMA
*  X12：解析

== 到期策略类型

[%header%autowidth.spread]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 最大空闲时间a | 数字 | 动态配置实例在被认为有资格到期之前应被允许闲置的最长时间的标量时间值。{{3 }} | 
| 时间单元a | 枚举，其中一个：

** 纳秒
**  MICROSECONDS
**  MILLISECONDS
** 秒后
**  MINUTES
**  HOURS
**  DAYS  | 限定maxIdleTime属性的时间单位。 |   | 
|===

内存流类型中的== 可重复

[%header%autowidth.spread]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 初始缓冲区大小a | 数字 | 分配的内存量消耗流并提供对其的随机访问。如果流包含的数据多于可以放入此缓冲区的数据，则缓冲区将根据bufferSizeIncrement属性进行扩展，并且上限为maxInMemorySize。 |   | 
| 缓冲区大小增加一个| 数字 | 缓冲区如果超过其初始大小，将如何扩展。将值设置为零或低意味着缓冲区不应扩展，这意味着当缓冲区满时会引发STREAM_MAXIMUM_SIZE_EXCEEDED错误。 |   | 
| 最大缓冲区大小a | 数字 | 这是要使用的最大内存量。如果使用了多于此值，则会引发STREAM_MAXIMUM_SIZE_EXCEEDED错误。值小于或等于零意味着没有限制。 |   | 
| 缓冲单元a | 枚举，其中之一：

**  BYTE
**  KB
**  MB
**  GB  | 表示所有这些属性的单位。 |   | 
|===

== 可重复的文件存储流类型

[%header%autowidth.spread]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 内存中的最大大小a | 数字 | 定义流应用于将数据保留在内存中的最大内存。如果超过该数量，则会开始缓冲磁盘上的内容。 |   | 
| 缓冲单元a | 枚举，其中之一：

**  BYTE
**  KB
**  MB
**  GB  |  maxInMemorySize的单位。 |   | 
|===
== 另请参阅

*  https://forums.mulesoft.com [MuleSoft论坛]。
*  https://support.mulesoft.com [联系MuleSoft支持]。

