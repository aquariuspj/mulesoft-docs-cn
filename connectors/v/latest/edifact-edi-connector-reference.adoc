=  EDIFACT EDI连接器参考

== 默认配置

=== 参数

[%header,cols="30a,70a"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
|名称 | 字符串 | 此配置的名称。连接器使用该名称引用配置。 |  | x
| 到期策略 |  ExpirationPolicy  |  配置动态配置实例在运行时认为其可以到期前保持空闲的最短时间。这并不意味着平台会在合格的时刻到期。运行时会根据实际情况清除实例。 |   |
| 骡交换ID  | 字符串 |  交换骡的识别（UNB部分）。该值与自我识别互换识别符限定符值一起使用，如果设置了一个，则另一个也必须设置。如果设置了该值，则会影响发送和接收消息处理。在接收方，UNB交换收件人标识必须与此值匹配。在发送端，此值用作UNB交换发送者标识，除非在消息参数中被覆盖。 |   |
|  Mule ID限定符 | 字符串 |  交换中的Mule识别限定符（UNB段）。该值与自我识别互换识别符值结合使用，如果设置了一个，则另一个也必须设置。如果设置了该值，则会影响发送和接收消息处理。在接收方，UNB交换收件人识别码限定符必须与此值匹配。在发送端，除非在发送配置或消息参数中重写，否则此值将用作UNB交换发送方标识码限定符。 |   |
| 合作伙伴交换ID  | 字符串 |  交换合作伙伴的标识（UNB细分）。该值与伙伴身份识别交换标识符限定符值一起使用，如果设置了一个，则另一个也必须设置。如果设置了该值，则会影响发送和接收消息处理。在接收方，UNB交换发送者标识必须与此值匹配。在发送端，此值将用作UNB互换收件人标识，除非在发送配置或消息参数中被覆盖。 |   |
| 合作伙伴ID限定词 | 字符串 |  合作伙伴交换的标识符限定符（UNB段）。该值与伙伴标识互换标识符值结合使用，如果设置了其他值，则必须设置另一个值。如果设置了该值，则会影响发送和接收消息处理。在接收方，UNB交换发送者识别码限定符必须与此值匹配。在发送端，此值将用作UNB交换收件人识别码限定符，除非在发送配置或邮件参数中被覆盖。 |   |
| 模式定义 | 字符串数组 |  模块要使用的模式的路径列表。路径可以是文件系统或类路径。 |   | x
| 替换字符 | 字符串 |  当使用语法级别UNOA或UNOB时，替换字符用于替换字符串值中的无效字符。如果设置了此替换字符的实际用法，则由单独的解析器和写入器标志进行控制。 |   |
| 分隔符用法 | 枚举，其中之一：

**  USE_DEFAULTS
**  USE_SPECIFIED_FOR_WRITES
**  USE_SPECIFIED_FOR_ALL  |  使用指定的分隔符和释放字符：

*  USE_DEFAULTS  - 使用EDIFACT语法版本标准定义的默认值。
*  USE_SPECIFIED_FOR_WRITES  - 使用标准默认分隔符进行读取，使用指定分隔符作为写入默认值。
*  USE_SPECIFIED_FOR_ALL  - 将指定的分隔符用作读取和写入的默认值。 |   USE_SPECIFIED_FOR_ALL  |
| 数据元素分隔符 | 字符串 |  默认数据元素分隔符。 |   +  |
| 组件元素分隔符 | 字符串 |  组件元素分隔符。 |  ： |
| 重复分隔符 | 字符串 |  重复分隔符。 |   *  |
| 分段终结符 | 字符串 |  分段终结符字符。 |  ' |
| 发布字符 | 字符串 |  发布字符。 |  ？ |
| 强制限制长度 | 布尔值 |  为接收值强制最小和最大长度。如果为true，则值太长或太短的消息被拒绝;如果为false，则无论如何都会使用这些值，并且交易不会被拒绝。无论哪种情况，都会记录错误并在CONTRL功能确认中报告。 |   true  |
| 强制执行值重复 | 布尔值 |  为接收值强制执行重复次数限制。如果属实，则拒绝值重复太多或太少次的消息;如果为false，则价值被接受并且交易不被拒绝。无论哪种情况，都会在CONTRL功能确认中报告错误。 |   true  |
| 强制使用有效字符 | 布尔值 |  强制使用有效字符（仅在使用语法级别UNOA和UNOB时适用）。如果为true，则接收到的包含语法级别不允许的字符的消息将被拒绝;如果为false，则该字符要么通过要么被替换（取决于是否设置了替换字符），并且该消息未被拒绝。 |   true  |
| 允许未知分段 | 布尔 |  允许消息中的未知分段。如果为false，则包含任何未知段的消息被拒绝;如果为true，则忽略未知段，并且不会拒绝该消息。无论哪种情况，都会在CONTRL功能确认中报告错误。 |   false  |
| 强制分段顺序 | 布尔值 |  强制消息中的分段顺序。如果属实，则不符合条件的消息将被拒绝;如果为false并且段可以重新排序，则不会拒绝该消息。无论哪种情况，都会在CONTRL功能确认中报告错误。 |   true  |
| 允许未使用的细分 | 布尔 |  允许在消息中标记为“未使用”的细分。如果为false，则包含在架构中标记为未使用的段的消息将被拒绝;如果为true，则不会拒绝该消息，并忽略未使用的段。无论哪种情况，都会在CONTRL功能确认中报告错误。 |   true  |
| 强制重复段 | 布尔 |  强制消息中的段重复次数限制。如果为true，则重复段数过多的消息将被拒绝;如果为false，则不会拒绝该消息。无论哪种情况，都会在CONTRL功能确认中报告错误。 |   true  |
| 字符编码覆盖 | 字符串 |  接收消息的字符编码覆盖。通常情况下，字符编码由UNB头段中的语法标识符决定，但当设置此值时，将使用它。该值必须是Java字符编码名称。 |   |
| 要求唯一交换 | 布尔值 |  如果先前已处理交换控制参考，则拒绝交换。正常行为是记录先前处理的交换号码，并拒绝来自同一伙伴的任何重复交换号码（由交换发送者和接收者标识确定）。如果为false，则允许继续处理接收到的交换，并将其留给应用程序流以跟踪数字并进行适当处理。 |   false  |
| 需要唯一的消息 | 布尔值 |  为接收到的消息强制使用全局唯一的消息参考号码（UNH.1）。默认情况下，消息引用号码只需要在特定交换处是唯一的。如果属实，则这需要消息参考号码在从同一伙伴和应用收到的所有交换中唯一（由交换发件人和收件人标识确定）。 |   false  |
| 存储生存时间 | 数字 |  存储交换和消息编号以检查唯一性的最少天数。该值仅在配置要求唯一交换和/或消息号时使用。来自Mule配置的默认持久对象存储始终用于存储接收到的标识号，并且此参数为这些存储的值设置条目生存时间。 |   30  |
| 编写字符编码 | 枚举，其中之一：

**  ASCII_A
**  ASCII_B
**  ISO8859_1
**  ISO8859_2
**  ISO8859_3
**  ISO8859_4
**  ISO8859_5
**  ISO8859_6
**  ISO8859_7
**  ISO8859_8
**  ISO8859_9
**  UTF8  |  用于写入消息的字符编码。 |   ASCII_B  |
| 语法版本 | 枚举，其中之一：

**  VERSION2
** 版本3
**  VERSION4  |  发送消息的语法版本，也用于确定用于发送和接收的服务段和DataSense元数据中的CONTRL确认消息结构的数据结构。接收消息的实际消息数据反映了接收到的交换中使用的语法版本。 |   VERSION4  |
| 结束 | 的枚举行枚举，其中之一：

**  NONE
**  LF
**  CRLF
**  CR  |  结束于段之间添加的行。这允许您在段之间添加行尾，以提高输出消息文本的可读性。 |   NONE  |
| 始终发送UNA  | 布尔值 |  始终发送UNA服务段。默认设置为false时，如果设置为true，则语法分隔符字符与语法版本和字符编码的默认值不匹配时，UNA仅包含在交换中。如果设置为true，则始终发送UNA。{{3} } {假{4}}
| 强制使用有效字符 | 布尔值 |  强制使用有效字符（仅在使用语法级别UNOA和UNOB时适用）。如果为true，则接收到的包含语法级别不允许的字符的消息将被拒绝;如果为false，则该字符要么通过要么被替换（取决于是否设置了替换字符），并且该消息未被拒绝。 |   true  |
| 唯一的消息号码 | 布尔值 |  发送唯一的消息参考号码（UNH.1）。默认情况下，消息参考号码在每个交换内按顺序分配，并在不同的交换中重复使用。如果设置为true，则代之以在发送给同一伙伴的所有交换中分配唯一的交易集编号（由交换发件人和收件人标识确定）。 |   false  |
| 初始交换参考 | 字符串 |  用于传出消息的初始交换控制参考。 |   1  |
| 初始消息参考 | 字符串 |  用于传出消息的初始消息参考号。 |   1  |
| 请求确认 | 布尔 |  使用确认请求字段（UNB.9）请求确认发送交换。如果为true，则在所有已发送的交换中请求CONTRL确认。如果为false，则仅请求收到确认信息。 |   false  |
| 测试指标 | 字符串 |  测试发送交换中使用的指标数字。默认情况下，交换不作为测试发送。 |   |
|===


== 操作

* 读
* 写

== 阅读

`<edifact:read>`


将EDI文本的输入流转换为地图并列出EDI数据的结构。


=== 参数

[%header,cols="30a,70a"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  | x
| 阅读内容 | 二进制 |   |   `#[payload]`  |
| 目标变量 | 字符串 |  操作输出所在的变量的名称。 |   |
| 目标值 | 字符串 |  根据操作输出和该表达式的结果进行评估的表达式存储在目标变量中。 |   `#[payload]` { {5}}
|===

=== 输出

[cols="30a,70a"]
|===
|  {键入{1}}对象
|===

=== 用于配置

* 配置

=== 抛出

*  EDIFACT：SCHEMA
*  EDIFACT：WRITE
*  EDIFACT：UNKNOWN
*  EDIFACT：解析

== 收件

`<edifact:write>`

将EDI数据转换成地图并列出EDI文本流。

=== 参数

[%header,cols="30a,70a"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  | x
| 撰写内容 | 对象 |   |   `#[payload]`  |
| 流式策略 |  *可重复的内存流
* 重复-文件的存储流
* 非重复流 |  配置使用可重复的流及其行为。 |   |
| 目标变量 | 字符串 |  操作输出所在的变量的名称。 |   |
| 目标值 | 字符串 |  根据操作输出和该表达式的结果进行评估的表达式存储在目标变量中。 |   `#[payload]` { {5}}
|===

=== 输出

[cols="30a,70a"]
|===
|  {键入{1}}的二进制
|===

=== 用于配置

* 配置

=== 抛出

*  EDIFACT：SCHEMA
*  EDIFACT：WRITE
*  EDIFACT：UNKNOWN
*  EDIFACT：解析

== 类型
[[ExpirationPolicy]]
=== 到期政策

[%header,cols="30a,70a"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 最大空闲时间 | 数字 | 动态配置实例在被认为有资格到期之前应该允许空闲的最长时间的标量时间值 |   | 
| 时间单元 | 枚举，其中之一：

** 纳秒
**  MICROSECONDS
**  MILLISECONDS
** 秒后
**  MINUTES
**  HOURS
**  DAYS  | 限定maxIdleTime属性的时间单位。 |   | 
|===

[[repeatable-in-memory-stream]]
内存流中可重复=== 

[%header,cols="30a,70a"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 初始缓冲区大小 |  Number  | 这是分配消耗流并为其提供随机访问的内存量。如果流包含的数据多于可以放入此缓冲区的数据，缓冲区将根据bufferSizeIncrement属性进行扩展，并且上限为maxInMemorySize。 |   | 
| 缓冲区大小增量 | 数字 | 如果缓冲区大小超过其初始大小，它将扩展多少。将值设置为零或低意味着缓冲区不应扩展，这意味着当缓冲区满时会引发STREAM_MAXIMUM_SIZE_EXCEEDED错误。 |   | 
| 最大缓冲区大小 | 数字 | 这是要使用的最大内存量。如果使用了多于此值，则会引发STREAM_MAXIMUM_SIZE_EXCEEDED错误。值小于或等于零意味着没有限制。 |   | 
| 缓冲单元 | 枚举，其中之一：

**  BYTE
**  KB
**  MB
**  GB  | 表示所有这些属性的单位。 |   | 
|===

[[repeatable-file-store-stream]]
=== 可重复的文件存储流

[%header,cols="30a,70a"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 内存中的最大大小 | 数字 | 定义数据流应用于将数据保存在内存中的最大内存。如果超过该数量，则会开始缓冲磁盘上的内容。 |   | 
| 缓冲单元 | 枚举，其中之一：

**  BYTE
**  KB
**  MB
**  GB  |  maxInMemorySize的单位。 |   | 
|===

== 另请参阅

*  https://forums.mulesoft.com [MuleSoft论坛]。
*  https://support.mulesoft.com [联系MuleSoft支持]。
