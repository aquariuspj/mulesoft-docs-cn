：toc：离开
：toc-title：XML模块
：toclevels：2
：最后更新标签!:
：文档信息：
：source-highlighter：coderay
：图标：字体


=  XML模块文档参考

+++
一个Mule模块，提供处理XML的功能。此模块应用于高级用例或与XML标准（如XSLT，XPath和XQuery或XSD）相关的用例。请记住，DataWeave不仅能够完美地处理大部分这些用例，而且可以在大多数时间内替换这些标准，但这也是我们推荐的方法。
+++


== 配置
---
[[config]]
=== 配置

+++
默认配置
+++

==== 参数
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| 姓名 | 类型 | 描述 | 默认值 | 必需
|名称 | 字符串 | 此配置的名称。连接器使用该名称引用配置。 |  |  *x* {nbsp}
| 命名空间|  <<namespace>>  |  数组+++允许将前缀全局映射到名称空间uris。在此版本中，xpath提取操作是唯一使用这些映射的操作+++  |   |  {nbsp}
| 展开实体a | 枚举，其中一个：

**  NEVER
**  INTERNAL
** 全部 |   +++定义如何处理实体展开。设置与NEVER不同的值会使应用程序容易受到XXE和/或DoS攻击+++  |   +++ NEVER +++  |  {nbsp}
| 到期策略a |  <<ExpirationPolicy>>  |   +++配置动态配置实例在运行时认为有资格到期之前可保持空闲的最短时间。这并不意味着该平台会在符合条件的时刻过期。运行时会在实例看到它合适时清除实例。+++  |   |  {nbsp}
|======================


==== 相关操作
*  <<validateSchema>> {nbsp}
*  <<xpathExtract>> {nbsp}
*  <<xqueryTransform>> {nbsp}
*  <<xsltTransform>> {nbsp}



== 操作

[[validateSchema]]
=== 验证架构
`<xml-module:validate-schema>`

+++
验证输入内容是否符合给定模式。此操作支持引用包含对方的多个模式（使用逗号作为分隔符）。
+++

==== 参数
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  *x* {n}
| 模式a | 字符串 |   +++模式文件的路径。您可以使用逗号分隔符指定多个模式位置+++  |   |  *x* {nbsp}
| 模式语言| 枚举，其中之一：

**  W3C
**  RELAXNG  |   +++要使用的模式语言。+++  |   +++ W3C +++  |  {nbsp}
| 内容a | 二进制 |   +++要验证的XML内容+++  |   +++＃[有效负载] +++  |  {nbsp}
| 展开实体a | 枚举，其中一个：

**  NEVER
**  INTERNAL
** 全部 |   +++设置为永不防止XXE和DoS攻击+++  |   |  {nbsp}
|======================


==== 用于配置。
*  <<config>> {nbsp}

==== 抛出
*  XML-MODULE：INVALID_SCHEMA {nbsp}
*  XML模块：转换{
*  XML-MODULE：SCHEMA_NOT_FOUND {nbsp}
*  XML-MODULE：SCHEMA_NOT_HONOURED {nbsp}
*  XML-MODULE：INVALID_INPUT_XML {nbsp}


[[xpathExtract]]
===  Xpath提取
`<xml-module:xpath-extract>`

+++
计算输入内容的XPath表达式并返回结果。 <p>因为XPath表达式可以匹配任意数量的单个元素，所以此操作返回一个字符串列表。如果没有元素匹配表达式，则返回空列表。 <p> XPath表达式也可以识别名称空间，这就是为什么此操作允许设置名称空间映射。这些映射将与在被引用的名称空间目录中可选定义的那些映射合并，这意味着评估将结合两组名称空间映射。
+++

==== 参数
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  *x* {n}
| 内容a | 二进制 |   +++ XPath评估的XML内容+++  |   +++＃[有效负载] +++  |  {NBSP}
|  Xpath a | 字符串 |   +++ XPath脚本+++  |   |  *x* {n}
| 上下文属性a | 对象 |   +++将可用于变换上下文的属性+++  |   |  {nbsp}
命名空间| 将在此评估中使用的<<namespace>>  |   +++命名空间映射数组。它们将与配置元素+++  |   |  {n}
| 命名空间目录a |  <<namespaceDirectory>>  |   +++命名空间目录，从中获取基本命名空间映射+++  |   |  {nbsp}
| 展开实体a | 枚举，其中一个：

**  NEVER
**  INTERNAL
** 全部 |   +++设置为永不防止XXE和DoS攻击+++  |   |  {nbsp}
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量名称+++  |   |  {nbsp}
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |  {} NBSP
|======================

==== 输出
[cols=".^50%,.^50%"]
|======================
|  *Type* a | 字符串数组
|======================

==== 用于配置。
*  <<config>> {nbsp}

==== 抛出
*  XML模块：转换{
*  XML-MODULE：NULL_CONTEXT_PROPERTY {nbsp}
*  XML-MODULE：INVALID_XPATH_EXPRESSION {nbsp}
*  XML-MODULE：INVALID_INPUT_XML {nbsp}


[[xqueryTransform]]
===  Xquery变换
`<xml-module:xquery-transform>`

+++
使用XQuery来转换输入内容。您可以设置将在XQuery执行中可用的转换上下文属性
+++

==== 参数
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  *x* {n}
| 内容a | 二进制 |   +++要转换的XML内容+++  |   +++＃[有效负载] +++  |  {nbsp}
XQuery脚本定义+++  |   |  *x* {+}
| 上下文属性a | 对象 |   +++将可用于变换上下文的属性+++  |   |  {nbsp}
| 展开实体a | 枚举，其中一个：

**  NEVER
**  INTERNAL
** 全部 |   +++设置为永不防止XXE和DoS攻击+++  |   |  {nbsp}
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量名称+++  |   |  {nbsp}
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |  {} NBSP
|======================

==== 输出
[cols=".^50%,.^50%"]
|======================
|  *Type* a | 字符串数组
|======================

==== 用于配置。
*  <<config>> {nbsp}

==== 抛出
*  XML模块：转换{
*  XML-MODULE：NULL_CONTEXT_PROPERTY {nbsp}
*  XML-MODULE：INVALID_INPUT_XML {nbsp}


[[xsltTransform]]
===  Xslt变换
`<xml-module:xslt-transform>`

+++
使用XSLT来转换输入内容。您可以设置将在样式表中可用的转换上下文属性。
+++

==== 参数
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  *x* {n}
| 内容a | 二进制 |   +++要转换的XML内容+++  |   +++＃[有效负载] +++  |  {nbsp}
XSLT脚本定义+++  |   |  *x* {+}
| 上下文属性a | 对象 |   +++将可用于变换上下文的属性+++  |   |  {nbsp}
| 展开实体a | 枚举，其中一个：

**  NEVER
**  INTERNAL
** 全部 |   +++设置为永不防止XXE和DoS攻击+++  |   |  {nbsp}
| 输出Mime输入| 字符串 |   +++此操作输出的有效负载的MIME类型。+++  |   |  {nbsp}
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量名称+++  |   |  {nbsp}
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |  {} NBSP
|======================

==== 输出
[cols=".^50%,.^50%"]
|======================
|  *Type* a | 字符串
|======================

==== 用于配置。
*  <<config>> {nbsp}

==== 抛出
*  XML模块：转换{
*  XML-MODULE：NULL_CONTEXT_PROPERTY {nbsp}
*  XML-MODULE：INVALID_INPUT_XML {nbsp}



== 类型
[[namespace]]
=== 命名空间

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| 字段 | 类型 | 描述 | 默认值 | 必需
| 前缀a | 字符串 |  XML文档 |   |  x中使用的前缀
|  Uri a | 字符串 | 名称空间URI  |   |  x
|======================

[[ExpirationPolicy]]
=== 到期政策

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| 字段 | 类型 | 描述 | 默认值 | 必需
| 最大空闲时间a | 数字 | 动态配置实例在被认为有资格到期之前应允许空闲的最长时间的标量时间值{{3} } | 
| 时间单元a | 枚举，其中一个：

** 纳秒
**  MICROSECONDS
**  MILLISECONDS
** 秒后
**  MINUTES
**  HOURS
**  DAYS  | 限定maxIdleTime属性 |   | 
的时间单位
|======================

[[namespaceDirectory]]
=== 命名空间目录

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| 字段 | 类型 | 描述 | 默认值 | 必需
| 名称空间|  <<namespace>>  | 的数组全局地将前缀映射到名称空间uris。在此版本中，xpath提取操作是唯一的操作
 使用这些映射 |   | 
|======================

