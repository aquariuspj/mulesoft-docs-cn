=  MongoDB连接器参考

+++
MongoDB是一个开源，高性能，无模式，面向文档的数据库，用于管理BSON文档的集合。
+++


== 配置
---
[[config]]
=== 配置


=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
|名称 | 字符串 | 此配置的名称。连接器使用该名称引用配置。 |  |  x
| 连接|  * <<config_connection, Connection>>
*  <<config_connection-string, Connection String>>
  | 可以提供给此配置的连接类型。 |  |  x
| 到期策略a |  <<ExpirationPolicy>>  |   +++配置动态配置实例在运行时认为有资格到期之前可保持空闲的最短时间。这并不意味着该平台会在符合条件的时刻过期。运行时会在实例看到它合适时清除实例。+++  |   |
| 启用元数据a | 布尔值 |   +++ collectionMetadataSamples：存储模板以基于文档参数union key（String）：Collection Name构建元数据。列表<String>：ObjectID列表特定集合中的文档+++  |   +++ true +++  |
| 收集元数据样本| 对象 |   |   |
|===

==== 连接类型
[[config_connection]]
===== 连接


===== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 服务器（主机：端口）a | 字符串 |   +++格式为<code> host：port </code>的MongoDB实例列表，由逗号。 <p>
  <pre>示例：127.0.0.1:27017，192.168.1.2:27017 </pre> +++  |   +++ localhost：27017 +++  |
每个主机的连接数| 数 |   +++每个主机允许的连接数（池大小，每个主机）+++  |   +++ 100 +++  |
| 允许线程阻塞连接乘数a |  Number  |   +++ Multiplier for connectionsPerHost用于可以阻塞的线程数。+++  |   +++ 5 +++  |
| 最长等待时间a | 数字 |   +++以毫秒为单位的池中连接的阻塞线程的最长等待时间。+++  |   ++ 120000 +++  |
| 连接超时a | 数字 |   +++连接超时以毫秒为单位;这是为了建立套接字连接（打开）。 0为默认且无限。+++  |   +++ 30000 +++  |
| 套接字超时a | 数字 |   +++套接字超时。 0是默认且无限的。+++  |   +++ 0 +++  |
| 用户名a | 字符串 |   |   ++++++  |
| 密码a | 字符串 |   +++用于验证的密码。如果密码为空或只有空格，连接器将不会使用身份验证，并且用户名也必须为空。+++  |   |
| 数据库a | 字符串 |   |   |  x
|  SSL a | 布尔值 |   +++这用于启用SSL连接。它被默认禁用。+++  |   +++ false +++  |
| 重新连接a |  <<Reconnection>>  |   +++部署应用程序时，将在所有连接器上执行连接测试。如果设置为true，则在耗尽关联的重新连接策略后未通过测试时，部署将失败+++  |   |
|===
[[config_connection-string]]
===== 连接字符串


===== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 连接URI a | 字符串 |   |   |  x
| 重新连接a |  <<Reconnection>>  |   +++部署应用程序时，将在所有连接器上执行连接测试。如果设置为true，则在耗尽关联的重新连接策略后未通过测试时，部署将失败+++  |   |
|===

==== 相关操作

*  <<addUser>>
*  <<countDocuments>>
*  <<createCollection>>
*  <<createFileFromPayload>>
*  <<createIndex>>
*  <<dropCollection>>
*  <<dropDatabase>>
*  <<dropIndex>>
*  <<dump>>
*  <<executeCommand>>
*  <<existsCollection>>
*  <<findDocuments>>
*  <<findFiles>>
*  <<findOneAndUpdateDocument>>
*  <<findOneDocument>>
*  <<findOneFile>>
*  <<getFileContent>>
*  <<incrementalDump>>
*  <<insertDocument>>
*  <<insertDocuments>>
*  <<listCollections>>
*  <<listFiles>>
*  <<listIndices>>
*  <<mapReduceObjects>>
*  <<removeDocuments>>
*  <<removeFiles>>
*  <<restore>>
*  <<saveDocument>>
*  <<updateDocuments>>
*  <<updateDocumentsByFunction>>
*  <<updateDocumentsByFunctions>>



== 操作

[[addUser]]
== 添加用户
`<mongo:add-user>`

+++
将新用户添加到数据库。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 用户名a | 字符串 |   +++用户名称+++  |   |  x
| 密码a | 字符串 |   +++将用于认证的密码+++  |   |  x
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[countDocuments]]
计数文档。== 计数文档
`<mongo:count-documents>`

+++
计算与给定查询匹配的文档数量。如果没有查询通过，则返回集合中元素的数量
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名一个| 字符串 |   +++目标集合+++  |   |  x
| 条件查询| 二进制 |   +++用于计数文档的可选字符串查询。只有匹配它的文档才会被计入。如果未指定，则所有文档都会被计数。+++  |   +++＃[有效负载] +++  |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 号码
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[createCollection]]
== 创建集合
`<mongo:create-collection>`

+++
创建一个新的集合。如果集合已经存在，则会抛出MongoException。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名为| 字符串 |   +++要创建的集合的名称+++  |   |  x
| 如果集合被封顶，则封闭| 布尔 |   +++ +++  |   +++ false +++  |
| 最大对象a | 数字 |   +++新集合能够包含的最大文档数++ ++  |   |
| 收藏大小a | 数字 |   +++新集合的最大大小+++  |   |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[createFileFromPayload]]
== 从Payload创建文件
`<mongo:create-file-from-payload>`

+++
在数据库中创建一个新的MuleGridFSFile，保存给定的内容，文件名，contentType和extraData，然后回答它。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 内容a | 二进制 |   +++新的gridfs文件的强制内容。它可以是java.io.File，byte []或InputStream。+++  |   +++＃[payload] +++  |
| 文件名a | 字符串 |   +++新文件的强制名称+++  |   |  x
| 元数据a | 二进制 |   +++新内容类型的可选String元数据+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 对象
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[createIndex]]
== 创建索引
`<mongo:create-index>`

+++
创建一个新的索引
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名为| 字符串 |   +++索引创建集合的名称+++  |   |  x
| 字段名称| 字符串 |   +++将被索引的字段的名称+++  |   |  x
| 订购| 枚举，其中的一个：

**  ASC
**  DESC  |   +++索引顺序+++  |   +++ ASC +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[dropCollection]]
== 删除收藏
`<mongo:drop-collection>`

+++
删除一个集合及其包含的所有对象。如果集合不存在，则什么也不做。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名为| 字符串 |   +++要放置的集合的名称+++  |   |  x
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[dropDatabase]]
== 删除数据库
`<mongo:drop-database>`

+++
删除当前数据库
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[dropIndex]]
== 删除索引
`<mongo:drop-index>`

+++
丢弃现有的索引
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名为| 字符串 |   +++索引为+++  |   |  x的集合的名称
| 索引名称| 字符串 |   +++要删除的索引的名称+++  |   |  x
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[dump]]
== 转储
`<mongo:dump>`

+++
执行数据库转储到指定的输出目录。如果未提供输出目录，则使用默认/转储目录。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 输出目录a | 字符串 |   +++输出目录路径，如果未提供输出目录，则假定默认/转储目录为+++  |   +++转换+++ { 4}}
如果未指定数据库名称+++  |   |
，则| 输出名称| 字符串 |   +++输出文件名称
| 压缩| 布尔 |   +++是否压缩创建的转储文件+++  |   +++ false +++  |
|  Oplog a | 布尔型 |   +++时间点备份（需要oplog）+++  |   +++ false +++  |
| 线程| 数量 |   +++数量的线程执行转储+++  |   +++ 5 +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[executeCommand]]
== 执行命令
`<mongo:execute-command>`

+++
在数据库上执行一个命令
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 命令名称| 字符串 |   +++要在数据库上执行的命令+++  |   |  x
| 命令值a | 字符串 |   +++命令的值+++  |   |
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[existsCollection]]
== 存在集合
`<mongo:exists-collection>`

+++
答案，如果一个集合存在给定其名称
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名为| 字符串 |   +++集合的名称+++  |   +++＃[有效负载] +++  |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 布尔值
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[findDocuments]]
== 查找文档
`<mongo:find-documents>`

+++
查找与给定查询匹配的所有文档。如果未指定查询，则会检索集合的所有文档。如果没有指定字段对象，则检索所有字段。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名一个| 字符串 |   +++目标集合+++  |   |  x
| 条件查询可选的String查询文档|  Binary  |   +++。如果未指定，则返回所有文档。+++  |   +++＃[有效负载] +++  |
| 字段a | 字符串数组 |   +++将字段传递为文字列表的另一种方式List +++  |   |
| 数字跳过| 数字 |   +++数量的文档skip（offset）+++  |   |
| 结果限制文档返回的| 数字 |   +++限制+++  |   |
| 按| 排序二元 |   +++表示用于排序结果的字符串+++  |   |
| 返回Id | 布尔值 |   +++布尔值，指示Id是否在响应中返回+++  |   +++ true +++  |
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[findFiles]]
== 查找文件
`<mongo:find-files>`

+++
列出与给定查询匹配的所有文件
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 查询查询| 二进制 |   +++ a查询+++  |   |  x
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 键入一个| 对象数组
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[findOneAndUpdateDocument]]
== 查找并更新文档
`<mongo:find-one-and-update-document>`

+++
查找并更新与给定查询匹配的第一个文档。当returnNew = true时，返回更新的文档而不是原始文档。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名一个| 字符串 |   +++目标集合+++  |   |  x
| 查找查询| 二进制 |   +++返回的对象匹配的字符串查询+++  |   |
| 内容更新| 二进制 |   +++将替换与查询匹配的字符串强制对象+++  |   |  x
| 字段a | 字符串数组 |   +++将字段传递为文字列表的另一种方式List +++  |   |
| 返回新文档a | 布尔值 |   +++标记以指定返回的org.bson.Document是否应该是更新的文档而不是原始文档。默认为false，在修改之前返回文档+++  |   +++ false +++  |
| 按| 排序二元 |   +++表示用于对结果进行排序的字符串+++  |   |
| 删除| 布尔 |   +++删除查询字段中指定的内容。默认为false +++  |   +++ false +++  |
| 插入| 布尔值 |   +++数据库是否应创建该元素（如果该元素不存在）+++  |   +++ false +++  |
| 绕过文档验证a | 布尔 |   +++可让您更新不符合验证要求的文档。默认为false +++  |   +++ false +++  |
| 返回Id | 布尔值 |   +++布尔值，指示Id是否在响应中返回+++  |   +++ false +++  |
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[findOneDocument]]
== 查找一个文档
`<mongo:find-one-document>`

+++
查找与给定查询匹配的第一个文档。如果没有人匹配给定的查询，则抛出MongoException
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名一个| 字符串 |   +++目标集合+++  |   |  x
| 查找查询| 二进制 |   +++返回的对象匹配的强制性String查询文档+++  |   +++＃[payload] ++ +  |
| 字段a | 字符串数组 |   +++将字段传递为文字列表的另一种方式List +++  |   |
| 失败未找到| 布尔值 |   +++标志，指定是否在未找到对象时抛出异常。为了向后兼容，默认值为true。+++  |   +++ true +++  |
| 返回Id | 布尔值 |   +++布尔值，指示Id是否在响应中返回+++  |   +++ true +++  |
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[findOneFile]]
== 查找一个文件
`<mongo:find-one-file>`

+++
解决与给定查询匹配的第一个文件。如果没有对象匹配，则抛出MongoException。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 查找查询| 二进制 |   +++字符串必填查询+++  |   |  x
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 对象
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[getFileContent]]
== 获取文件内容
`<mongo:get-file-content>`

+++
解答与给定查询匹配的第一个文件内容的输入流。如果没有对象匹配，则抛出MongoException。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 文件ID a |  <<MuleBsonObjectId>>  |   +++要删除的文件的MuleBsonObjectId +++  |   +++＃[有效负载] +++ { {5}}
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[incrementalDump]]
== 增量转储
`<mongo:incremental-dump>`

+++
执行数据库的增量转储
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 输出目录a | 字符串 |   +++输出目录路径，如果未提供输出目录，则假定默认/转储目录为+++  |   +++转换+++ { 4}}
| 增量时间戳文件| 字符串 |   +++文件，用于跟踪上次处理的时间戳，如果未提供任何文件，则会在输出目录+++  |  上创建一个文件|
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[insertDocument]]
== 插入文档
`<mongo:insert-document>`

+++
将文档插入到集合中，并在必要时设置其ID。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合名称| 字符串 |   +++插入给定文档的集合名称。+++  |   |  x
| 记录| 二进制 |   +++一个String实例。+++  |   +++＃[有效负载] +++  |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 字符串
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[insertDocuments]]
== 插入文档
`<mongo:insert-documents>`

+++
在集合中插入文档列表，并在必要时设置其ID。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合名称| 字符串 |   +++插入给定文档的集合名称。+++  |   |  x
| 文件一个| 二进制 |   +++一个String的java.util.List。+++  |   +++＃[payload] +++ {{ 4}}
| 写有序| 布尔 |   +++指示写操作列表是有序的还是无序的。默认情况下，如果在处理其中一个写入操作期间发生错误，则MongoDB将返回而不处理列表中剩余的任何写入操作。+++  |   +++ false +++  |
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[listCollections]]
== 列出集合
`<mongo:list-collections>`

+++
列出此数据库可用集合的名称
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[listFiles]]
== 列出文件
`<mongo:list-files>`

+++
列出与给定查询匹配的所有文件，并按文件名对它们进行排序。如果未指定查询，则列出所有文件。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 查询查询| 二进制 |   +++ String可选查询+++  |   |  x
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 键入一个| 对象数组
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[listIndices]]
== 列出索引
`<mongo:list-indices>`

+++
列出集合中已有的索引
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名一个| 字符串 |   +++集合的名称+++  |   |  x
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[mapReduceObjects]]
== 映射减少对象
`<mongo:map-reduce-objects>`

+++
通过向每个元素应用提供的元素映射函数，将每个元素转换为一个键值对，按键分组结果对，最后减少每个组中应用提供的值，从而将集合转换为聚合组的集合'减少'功能。每个提供的功能都使用JavaScript编码。请注意，编写这些函数的正确方式可能并不明显;请参考MongoDB文档编写它们。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名为| 字符串 |   +++要映射和减少的集合的名称+++  |   |  x
| 映射函数a | 字符串 |   +++ JavaScript编码映射函数+++  |   |  x
| 减少函数a | 字符串 |   +++ JavaScript编码减少函数+++  |   |  x
| 输出集合| 字符串 |   +++输出集合的名称以写入结果，如果存在则取代以前的集合，如果结果大于16MB，则取代之前的集合。如果未指定outputCollection，则计算在内存中执行并且不会保留。+++  |   |
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[removeDocuments]]
== 删除文件
`<mongo:remove-documents>`

+++
删除与给定的可选查询匹配的所有文档。如果未指定查询，则会删除所有文档。但是，请注意，通常这会降低集合并再次创建集合及其索引的性能
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名一个| 字符串 |   +++元素将被删除的集合+++  |   |  x
| 查找查询| 二进制 |   +++可选的String查询对象。与其匹配的文档将被删除。+++  |   +++＃[有效负载] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[removeFiles]]
== 删除文件
`<mongo:remove-files>`

+++
删除与给定文件ID相匹配的文件。如果未指定文件标识，则删除所有文件
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 文件ID a |  <<MuleBsonObjectId>>  |   +++要删除的文件的MuleBsonObjectId +++  |   +++＃[有效负载] +++ { {5}}
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[restore]]
== 恢复
`<mongo:restore>`

+++
从转储中获取输出并进行恢复。索引将在恢复时创建。它只会插入数据以进行还原，如果现有数据存在，则不会被替换。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 输入路径转储文件的| 字符串 |   +++输入路径，它可以是目录，zip文件或只是bson文件+++  |   ++ +转储+++  |
| 删除集合a | 布尔值 |   +++是否在恢复之前删除现有集合+++  |   +++ false +++  |
|  Oplog重放一个| 布尔 |   +++重播oplog以进行时间点恢复+++  |   +++ false +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[saveDocument]]
== 保存文档
`<mongo:save-document>`

+++
基于其对象_id插入或更新文档。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名为| 字符串 |   +++插入对象的集合+++  |   |  x
| 记录| 二进制 |   +++要插入的强制性String文档。+++  |   +++＃[payload] +++ {{4} }
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===


=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[updateDocuments]]
== 更新文档
`<mongo:update-documents>`

+++
更新与给定查询匹配的文档。如果未指定查询，则检索所有文档。如果参数multi设置为false，则只会更新与之匹配的第一个文档。否则，所有与之匹配的文档都会被更新。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名为| 字符串 |   +++要更新的集合的名称+++  |   |  x
| 查找查询| 二进制 |   +++用于检测要更新的元素的字符串查询对象+++  |   |
| 内容更新| 二进制 |   +++将替换匹配查询的字符串强制性对象+++  |   |  X
| 如果全部或只是匹配查询的第一个文档将被更新，则多次更新| 布尔 |   +++ +++  |   +++ true +++  |
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[updateDocumentsByFunction]]
== 按功能更新文档
`<mongo:update-documents-by-function>`

+++
使用mongo函数更新文档。如果未指定查询，则检索所有文档。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名为| 字符串 |   +++要更新的集合的名称+++  |   |  x
| 函数a | 字符串 |   +++用于执行更新的函数+++  |   |  x
| 查找查询| 二进制 |   +++用于检测要更新的元素的字符串查询文档+++  |   |
| 内容更新| 二进制 |   +++将替换匹配查询的字符串必需文档+++  |   |  X
| 如果数据库在不存在的情况下创建元素，则插入| 布尔值 |   +++ +++  |   +++ false +++ {{4} }
| 如果全部或只是匹配查询的第一个文档将被更新，则多次更新| 布尔 |   +++ +++  |   +++ true +++ {{ 4}}
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT


[[updateDocumentsByFunctions]]
== 按功能更新文档
`<mongo:update-documents-by-functions>`

+++
使用一个或多个mongo函数更新文档。如果未指定查询，则检索所有文档。如果有重复的操作员。只有最后一个会被执行。
+++

=== 参数

[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| 姓名 | 类型 | 描述 | 默认值 | 必需
| 配置 | 字符串 | 要使用的配置的名称。 |  |  x
| 集合命名为| 字符串 |   +++要更新的集合的名称+++  |   |  x
| 查找查询| 二进制 |   +++用于检测要更新的元素的字符串查询文档+++  |   |
| 函数| 二进制 |   +++用于执行更新的函数的字符串。例如<$set,{"key":123}> {+++ {4}} |  X
| 插入| 布尔值 |   +++数据库是否应创建该元素（如果该元素不存在）+++  |   +++ false +++  |
| 如果全部或只是匹配查询的第一个文档将被更新，则多次更新| 布尔 |   +++ +++  |   +++ true +++  |
| 流式策略a |  * <<repeatable-in-memory-stream>>
*  <<repeatable-file-store-stream>>
*  non-repeatable-stream  |   +++配置是否应使用可重复的流及其行为+++  |   |
| 目标变量a | 字符串 |   +++操作输出将放置在其上的变量的名称+++  |   |
| 目标值a | 字符串 |   +++将针对操作输出评估的表达式，并将该表达式的结果存储在目标变量+++  |  中+++＃[有效载荷] +++  |
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  |   +++连接错误情况下的重试策略+++  |   |
|===

=== 输出

[cols=".^50%,.^50%"]
|===
| 输入| 二进制文件
|===

=== 用于配置

*  <<config>>

=== 抛出

*  MONGO：WRITE_CONCERN
*  MONGO：RETRY_EXHAUSTED
*  MONGO：UNKNOWN
*  MONGO：SERVER_ERROR
*  MONGO：BULK_WRITE
*  MONGO：IO_EXCEPTION
*  MONGO：SOCKET_READ_ERROR
*  MONGO：WRITE
*  MONGO：CLIENT_EXCEPTION
*  MONGO：QUERY_ERROR
*  MONGO：NODE_IS_RECOVERING
*  MONGO：MONGO_GRID_FS
*  MONGO：INVALID_CREDENTIALS
*  MONGO：EXECUTION_TIMEOUT
*  MONGO：插座
*  MONGO：COMMAND_ERROR
*  MONGO：MongoExecution
*  MONGO：SOCKET_CLOSED
*  MONGO：安全
*  MONGO：WAIT_QUEUE_FULL
*  MONGO：CURSOR_NOT_FOUND
*  MONGO：SOCKET_OPEN
*  MONGO：INTERNAL_EXCEPTION
*  MONGO：中断
*  MONGO：SOCKET_WRITE_ERROR
*  MONGO：连接
*  MONGO：NOT_PRIMARY
*  MONGO：TIMEOUT
*  MONGO：DUPLICATE_KEY
*  MONGO：INCOMPATIBLE_DRIVER
*  MONGO：SOCKET_READ_TIMEOUT
*  MONGO：MAPPING_EXCEPTION
*  MONGO：ILLEGAL_ARGUMENT



== 类型
[[Reconnection]]
=== 重新连接

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 部署失败| 布尔值 | 部署应用程序时，将在所有连接器上执行连接测试。如果设置为true，则在耗尽关联的重新连接策略后，如果测试未通过，则部署将失败 |   | 
| 重新连接策略a |  * <<reconnect>>
*  <<reconnect-forever>>  | 重新连接策略使用 |   | 
|===

[[reconnect]]
==== 重新连接

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 频率a | 数字 | 重新连接 |   | 
的频率（以毫秒为单位）
| 计算| 数字 | 进行多少次重新连接尝试 |   | 
|===

[[reconnect-forever]]
=== 重新连接Forever

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 频率a | 数字 | 重新连接 |   | 
的频率（以毫秒为单位）
|===

[[ExpirationPolicy]]
=== 到期政策

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 最大空闲时间a | 数字 | 动态配置实例在被认为有资格到期之前应允许空闲的最长时间的标量时间值{{3} } | 
| 时间单元a | 枚举，其中一个：

** 纳秒
**  MICROSECONDS
**  MILLISECONDS
** 秒后
**  MINUTES
**  HOURS
**  DAYS  | 限定maxIdleTime属性 |   | 
的时间单位
|===

[[repeatable-in-memory-stream]]
内存流中可重复=== 

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 初始缓冲区大小a | 数字 | 这是为了使用流并为其提供随机访问将分配的内存量。如果流包含的数据多于可以放入此缓冲区的数据，则会根据bufferSizeIncrement属性进行扩展，其上限为maxInMemorySize。 |   | 
| 缓冲区大小增加a | 数字 | 这是多少缓冲区大小通过扩展，如果它超过了其初始大小。将值设置为零或更低意味着缓冲区不应扩展，这意味着当缓冲区满时将引发STREAM_MAXIMUM_SIZE_EXCEEDED错误。 |   | 
| 最大缓冲区大小a | 数字 | 这是将要使用的最大内存量。如果超过了那个值，那么会引发STREAM_MAXIMUM_SIZE_EXCEEDED错误。值小于或等于零意味着没有限制。 |   | 
| 缓冲单元a | 枚举，其中之一：

**  BYTE
**  KB
**  MB
**  GB  | 表示所有这些属性的单位 |   | 
|===

[[repeatable-file-store-stream]]
=== 可重复的文件存储流

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 内存中的最大大小a | 数字 | 定义流应用于将数据保留在内存中的最大内存。如果超过该数量，则会开始缓存磁盘上的内容。 |   | 
| 缓冲单元a | 枚举，其中之一：

**  BYTE
**  KB
**  MB
**  GB  | 表示maxInMemorySize的单位 |   | 
|===

[[MuleBsonObjectId]]
===  Mule Bson对象ID

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 值a |  <<ObjectId>>  |   |   | 
|===

[[ObjectId]]
=== 对象ID

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|===
| 字段 | 类型 | 描述 | 默认值 | 必需
| 反击a | 号码 |   |   | 
| 日期a | 日期 |   |   | 
| 机器标识符a | 号码 |   |   | 
| 过程标识符| 数字 |   |   | 
| 时间a | 号码 |   |   | 
| 次秒a | 号码 |   |   | 
| 时间戳a | 号码 |   |   | 
|===

