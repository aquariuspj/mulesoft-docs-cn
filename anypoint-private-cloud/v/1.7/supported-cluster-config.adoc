= 关于Anypoint私有云版支持的网络拓扑

为了确保平台的性能，稳定性和高可用性，Anypoint Platform私有云版支持两种网络拓扑结构，这些拓扑结构概述在下面的部分中。

在这两种配置中，为确保高可用性和高性能，每个节点都必须在自己的物理服务器上运行。如果使用虚拟机来承载这些节点，则必须确保每个VM节点都在单独的物理服务器上运行。

[WARNING]
只支持VMWare裸机虚拟化环境和物理服务器。

===  3节点配置

生产环境支持的最低网络拓扑结构为3节点配置，如下图所示：

image:prereqs-priv-cloud-3-node.png[“3节点配置”]

此配置表示可启用高可用性和故障转移的最小节点数。在此配置中，每个节点承载平台应用程序和服务。您必须配置负载均衡器，以在三个节点中的每个节点之间使用流量的循环分配。

每个节点还托管数据库和文件存储的实例。托管数据库和对象存储可启用持久性，但需要更大的最低磁盘和内存要求。尽管每个节点都包含一个数据库，但只有一个数据库被用作主数据库。每个节点上的应用程序仅写入此数据库。另外两个数据库实例是master数据库的热备份实例，在发生故障时作为master数据库接管。

===  6节点配置

支持的最大网络拓扑结构为6节点配置，如下图所示：

image:prereqs-priv-cloud-6-node.png[“6节点配置”]

在这种配置中，三个节点专门用于托管平台应用程序和服务。其他三个节点承载数据库和文件存储实例。虽然每个节点都包含一个数据库，但只有一个数据库节点用作主节点。每个节点上的应用程序仅写入此数据库。另外两个数据库实例是master数据库的热备份实例，在发生故障时作为master数据库接管。

您必须配置负载均衡器才能在群集中的所有节点之间使用流量循环分配。

== 另请参阅

*  link:/anypoint-private-cloud/v/1.7/prereq-workflow[工作流程：安装和验证物理服务器的先决条件]
*  link:prereq-workflow[工作流程：安装和验证先决条件]
*  link:install-workflow[工作流程：安装Anypoint平台私有云版]
