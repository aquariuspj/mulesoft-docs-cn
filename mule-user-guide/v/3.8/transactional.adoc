= 事务

Mule将 link:http://en.wikipedia.org/wiki/Transaction_processing[交易]的概念应用于结果不能保持不确定的应用程序中的操作。换句话说，如果一个流程中的一系列步骤必须成功或失败，Mule会使用一个事务来划分这个单位。例如，您可以使用事务来封装流程中的几个步骤，最终结果涉及将信息提交给数据库。在这种情况下，提交要么完全完成，要么成功，要么不完整，并且失败。即使部分完成，提交或交易也会失败。在交易失败的情况下，Mule会回滚交易中的操作，以便任何人都不会导致部分完成。

您可以通过将事务应用于连接器来划分事务。如果Mule流从事务资源（例如入站连接器）开始，则Mule可以启动新的事务并将整个流作为事务进行管理。如果您的流程包含一个事务性出站连接器，则Mule会将传出操作作为事务进行管理。使用事务性入站和出站连接器，Mule将执行外出操作作为入站连接器启动的事务的一部分。

以下连接器支持事务划分：

*  JMS
*  JDBC
*  VM

*Note*：从Mule 3.5.0开始， link:/mule-user-guide/v/3.8/database-connector[数据库连接器]替换了JDBC连接器，并且不推荐使用JDBC连接器。使用JDBC传输的应用程序可以继续使用3.5.0 Enterprise Runtime，但该连接器在Studio调色板中不再可用于添加到应用程序。

Mule流可能以非事务性入站连接器（如HTTP或SFTP）开始，但需要在流中使用事务。例如，Mule流可以接受来自外部Web服务的信息，然后在收取信用卡之前转换数据，并将发票信息保存到数据库。在这种情况下，您可以通过在交易中包装信用卡费用和数据库提交操作来划分交易，以确保完全成功或完全失败并回滚。

有关如何在您的Mule流程中划分交易的更多信息和全部详细信息，请参阅 link:/mule-user-guide/v/3.8/transaction-management[交易管理]。
