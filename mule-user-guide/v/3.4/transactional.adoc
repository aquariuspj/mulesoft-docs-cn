= 事务

*_Enterprise Edition_*

Mule将 http://en.wikipedia.org/wiki/Transaction_processing[交易]的概念应用于结果不能保持不确定的应用程序中的操作。换句话说，如果流程中的一系列步骤必须作为一个单元成功或失败，那么Mule会使用交易来划分这样一个单位。例如，您可以使用事务来封装流程中的几个步骤，最终结果涉及将信息提交给数据库。在这种情况下，提交要么完全完成，要么成功，要么不完整，并且失败。即使部分完成，提交或交易也会失败。在交易失败的情况下，Mule会回滚交易中的操作，以便任何人都不会导致部分完成。

您可以通过将事务应用于端点来划分事务。如果Mule流以事务资源（即入站端点）开始，则Mule可以启动新的事务并将整个流作为事务进行管理。如果您的流包含事务性出站端点，则Mule会将传出操作作为事务进行管理。通过事务性入站和出站端点，Mule执行外发操作，作为入站端点启动的事务的一部分。

以下端点支持事务划分：

*  JMS
*  JDBC
*  VM

但是，可能会出现Mule流以非事务性入站端点（例如HTTP或SFTP）开始，但需要在流内使用事务的情况。例如，Mule流可以接受来自外部Web服务的信息，然后转换数据，然后收取信用卡并将发票信息保存到数据库。在这种情况下，您可以通过在交易中包装信用卡费用和数据库提交操作来划分交易，以确保完全成功或完全失败并回滚。

有关如何在您的Mule流程中划分交易的更多信息和全部详细信息，请参阅 link:/mule-user-guide/v/3.4/transaction-management[交易管理]。
