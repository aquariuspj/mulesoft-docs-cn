= 异步范围参考

异步作用域是与父消息流同时执行的分支处理流程。只要这些操作不需要对主流进行响应，这种类型的处理块就可以用于执行耗时的操作（如打印文件或连接到邮件服务器）。换句话说，主流程一旦调用异步范围就可以恢复执行;它不必暂停，直到嵌入异步流程中的最后一个消息处理器完成其任务。

为了便于同时进行分支处理，异步示波器将收到的消息的一个副本发送到其自己的处理模块中的第一个嵌入式消息处理器;同时它将消息的另一个副本发送到主流程中的下一个消息处理器（请参阅：*below*）。

image:Asynch+Schematic.png[非同步+原理图]

不像*sub flows*与父流同步执行，异步范围不会由*Flow Reference*组件调用。

与继承其父流的处理策略和异常处理属性的子流相比，异步流不会继承父流的处理策略或异常处理属性。

由于它们立即将收到的任何消息的副本传递给父流中的下一个消息处理器，然后在子线程上处理该消息的另一个副本，根据定义，异步范围无法支持请求 - 响应交换模式。相反，他们必须实施几种支持的单向处理策略之一，详见下面的配置部分。

== 异步范围配置

将异步范围拖动到消息流画布并将其放置在组成父流的消息处理器序列中后，必须将其嵌入到自己的消息处理器序列中。接下来，您必须配置每个嵌入式消息处理器，方法是双击代表每个消息处理器的图标以打开其“属性”窗格，然后完成配置字段。您的最后一步是配置Async作用域本身。

默认情况下，异步作用域标题栏的左上角出现以下图标： image:Asynch+Title.png[非同步+标题]。双击标题栏上的任意位置以打开“属性”窗格。

=== 关于显示名称和文档

尽管*Display Name*和*Documentation*字段都是可选的，但如果您使用有意义的信息填充它们，它们在开发和部署过程中可能会证明非常有用。

例如，默认情况下，显示名称为`Async`。您可以将其更改为与您的应用程序上下文相关的内容，例如“将入站消息记录到数据库”。该字符串将显示在消息流画布上的异步流图标下以及Mule管理控制台上的管理和性能分析显示中。

同样，您输入文档字段的文本对未来的开发人员和系统管理员来说可能是有价值的，因为它出现在将鼠标悬停在消息流画布上的异步流图标上时弹出的黄色帮助气球中。

=== 关于异步处理策略

虽然它是可选的，但您可以配置*Processing Strategy*字段，该字段位于*Scope Properties*窗格的*General*选项卡的*Generic*面板上（请参阅：*below* ）。

image:Asynch+Properties.png[非同步+属性]

==== 选择一个处理策略

完成以下步骤：

. 要打开*Choose Global Type*面板，请点击位于*Processing Strategy*字段右侧的*Add*（请参阅：*below*）。
+
image:Asynch+Process+Add.png[非同步+流程+添加]

. 点击*Processing Strategies*突出显示该图标，并立即在右侧显示*drop down arrow*（请参阅：*Below*）。
+
image:Asynch+Arrow.png[非同步+箭头]

. 单击箭头以使箭头向下倾斜，并显示可用的单向处理策略列表（请参阅：*below*）。
+
image:Asynch+List.png[非同步+列表]

下表列出并描述了可用的异步处理策略：

[%header,cols="20,75"]
|===
|策略 |说明
|异步处理策略 |在入站端点处理完消息后，其余流将在另一个线程中运行。
|自定义处理策略 |用户编写的处理器策略。
|排队异步处理策略 |在入站端点处理完消息后，它将该消息写入SEDA队列。其余流程以SEDA队列的线程池的形式运行。
|排队线程每处理器处理策略 |入站端点处理完消息后，它将该消息写入SEDA队列。从此之后，流程中的每个剩余处理器将依次在不同的线程中运行。
|每处理器线程处理器策略 |在入站端点处理完消息后，流中的每个剩余处理器将按顺序在另一个线程中运行。
|===
