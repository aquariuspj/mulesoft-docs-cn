= 关于SSO先决条件和限制

本主题描述在Anypoint Platform内使用SSO的先决条件和限制。

== 先决条件

在使用SSO之前，请确保您已执行以下操作：

* 配置您的身份用于在断言中发送用户名和电子邮件。
* 配置Anypoint Platform将用户名和电子邮件映射到预期的属性名称。如果您未配置此设置，则登录失败并显示403未授权的错误消息。
* 将身份提供者的SAML断言配置为已签名但未加密。身份提供者将SAML断言发布为通过HTTP作为POST请求发送的XML文件。

== 客户注意事项

请注意与客户行为相关的以下注意事项：

* 在配置您的联合组织之前创建的用户帐户仍在组织内。但是，用户只能通过页面上的Anypoint Platform登录进行登录。他们无法从身份提供者的重定向登录页面登录。

* 启用外部身份后，邀请按钮在Access Management中被禁用。您无法添加新的非联合用户。现有的非联邦用户可以继续正常工作，但有以下例外情况：
+
** 如果用户会话超时，用户将被重定向到联合身份登录页面而不是通用登录页面。标识组织的链接和书签将用户重定向到联合登录页面，对于非联合用户而言，联合登录页面失败。
+
** 如果您将身份提供者配置为处理用户信息断言，则用户必须使用以下URL登录到Anypoint Platform：
+
----
https://anypoint.mulesoft.com/accounts/login/{your_org_domain}
----

== 限制

*  OpenID Connect不支持单一注销。
*  OpenID Connect不支持角色映射。
* 如果SAML用户属于某些组，则Anypoint Platform不会自动授予组织中的等效角色。
*  Anypoint Platform不会为单点登录生成SAML断言。您的IdP会生成您配置的Sign On URL。
* 外部身份配置仅在组织级别可用。您无法为业务单位配置外部身份提供商。
