= 管理MMC用户和角色
:keywords: mmc, configuration, ldap, authenthication

本文档介绍了通过控制台本身或通过LDAP管理MMC中用户的两种方式，并定义了MMC中使用的用户，组，服务器组权限和全局权限的概念。本文档还介绍了如何在MMC控制台中设置用户组和分配权限，无论您是通过控制台还是通过LDAP管理用户，您都需要执行此操作。

== 假设

本文档假定您是MMC中的管理员帐户持有者。

== 定义

*Users*是可以登录到控制台的个人。有关添加和管理用户的更多信息，请参阅 link:/mule-management-console/v/3.6/setting-up-and-managing-users-in-mmc[在MMC中设置和管理用户]或 link:/mule-management-console/v/3.6/setting-up-and-managing-users-via-ldap[通过LDAP设置和管理用户]。

*User Groups*允许您将权限集中分配给一组用户，从而有效地定义用户角色。有关更多信息，请参阅<<Managing User Groups>>。

*Server Permissions*指定用户组的成员可以在指定的一组服务器或服务器组上执行哪些操作。这些操作包括查看和删除文件，控制服务器，消除线程以及创建和解散群集。有关服务器权限的更多信息，请参阅<<Server Permissions Reference>>。

*Global Permissions*指定用户组的成员可以在管理控制台中执行哪些任务，例如查看部署，控制流和管理用户。有关全局权限的更多信息，请参阅<<Global Permissions Reference >>。

== 选择用户管理系统

Mule管理控制台提供了两个用于管理用户，角色和权限的选项：

. 您可以通过管理控制台中的“管理”选项卡设置和管理用户。
. 您可以使用LDAP设置和管理用户。

请注意，无论您选择哪种方法进行用户管理，您都需要使用管理控制台来定义用户组并为其分配权限。组权限只能通过控制台进行管理。

准备好设置用户？

* 有关如何通过管理控制台Web应用程序设置和管理用户的详细说明，请转至 link:/mule-management-console/v/3.6/setting-up-and-managing-users-in-mmc[在MMC中设置和管理用户]。
* 请转至 link:/mule-management-console/v/3.6/setting-up-and-managing-users-via-ldap[通过LDAP设置和管理用户]，获取有关使用LDAP进行用户管理的详细说明和技术先决条件。请注意，在通过LDAP启用身份验证后，用户链接不再可用。

设置好用户后，您可以定义用户组，每个用户组都有一组适当的权限，然后将用户添加到这些组。

== 管理用户组

本节介绍如何在管理控制台中添加，管理和删除用户组（也称为角色）。请注意，您不能删除管理员组。其他三个组（监视器，部署者和服务器管理员）为控制台用户典型角色建模，并已为您提供便利。

添加新用户组或编辑现有组需要设置服务器组权限和全局权限。服务器组权限定义用户角色或组可以管理的服务器组。列出了默认控制台服务器组，包括所有服务器，以及您可能创建的任何服务器组。还有一组专门用于服务器的权限，包括文件访问权限，线程管理和服务器管理权限。

全局权限定义了此组在部署，应用程序，警报，流等方面的权限。有关更多信息，请参阅<<Understanding Permissions>>。

=== 添加用户组

. 在*Administration*标签中，点击左侧导航面板中的*User Groups*即可查看现有的用户组。点击*New*创建一个新组。 +
 +
image:MMC-usergroups.png[MMC-群组]

. 输入新组的*Name*，并可选择输入*Description*。 +
 +
image:mmc-addgroup1.png[MMC-addgroup1]

. 从左列的列表中选择*Global Permissions*。使用列表底部的*Select All*按钮为该用户组提供所有全局权限。或者，只检查您希望用户组拥有的权限。
. 要设置*Server Group Permissions*，** **，请先从该用户组可以操作的下拉列表中选择一个或多个服务器组。 （您可以选择*All*，或一次选择一个服务器组，然后选中每个服务器组的权限框。）然后，使用复选框从右列的列表中设置服务器组权限。使用列表底部的*Select All*按钮为该用户组提供指定服务器组的所有服务器权限。或者，只检查您希望用户组拥有的权限。 +
 +
image:mmc-addgroup2.png[MMC-addgroup2]

. 点击*Save*。

[NOTE]
请注意，服务器组权限中还列出了两个与群集相关的权限：**Clusters - Create**和**Cluster - Disband**。

=== 管理组权限

. 点击导航树中的*User Groups*以查看现有的组。
. 单击您要编辑的特定用户组。
. 使用*Edit Group*屏幕更改名称，说明并修改服务器和全局权限。更改服务器组访问权限，服务器权限和全局权限与添加新用户组的权限相同。 （请参阅上面的部分。）
. 点击*Save*保存您所做的任何更改。

== 了解用户组

将用户组分配给用户组，相当于为他们分配一个角色，这从安全角度来看尤为重要，因为您正在授予该用户授予整个用户组的所有权限和权限。同样，为用户组设置权限也非常重要。

无论您是修改默认用户组的权限还是设置自己的用户组，您都需要考虑每个用户组中的"actors"以及这些角色将执行的用例。结合这些用例，您可以通过服务器组进一步优化这些权限。通过将服务器分组为逻辑类别（测试，生产，开发，分期等），您可以为开发和测试提供更多组的权限，但保持分段和生产服务器环境的限制性更强，从而更安全。

例如，您可能想要为应用程序开发人员定义一个用户组。当然，应用程序开发人员将应用程序代码本身放在一起，但他们还需要在应用程序准备好用于生产环境之前测试和调试代码。为了正确地测试应用程序，开发人员需要将他们的应用程序部署到测试系统并可能调试消息流。因此，您可能希望为开发人员授予与部署，端点和流量控制相关的所有任务的权限，并在特定于测试和开发的服务器上监控功能。

在生产环境中使用它们之前，您可能希望使用分阶段服务器环境来设置和验证特定的部署方案。您可能希望只允许某些与部署相关的用户组访问这些服务器。你甚至可以决定你需要两个级别的部署专家。同时，您可能希望限制开发人员访问阶段服务器环境，以便在发布到生产环境之前不会进行意外更改。

您可能还希望一类支持技术人员拥有类似于开发人员的功能，但是在分段和生产服务器上。您可能有一个支持小组处理几乎所有权限的敏感帐户。

您可能有其他用户组的职责更多地放在系统管理任务上。对于这些组，您可能希望授予他们管理其他用户，执行脚本以及管理所有服务器组中的警报的权限。

== 了解权限

权限赋予特定用户组执行特定任务的能力。任务可以与服务器相关，例如注册或注销服务器，也可以与应用程序（如部署和流量控制功能或特定用户等）相关。由于授予的权限（或未授予的权限）代表系统上的安全性，因此在为新用户组分配权限或修改现有组的权限时应特别小心。

* 全局权限为组中的所有用户提供执行特定任务的能力，从查看部署到控制流和管理用户。
* 服务器权限范围从查看和删除文件，控制服务器以及查杀线程。用户组的服务器权限可能适用于所有服务器或仅适用于指定的服务器组。服务器权限也适用于以下两个活动：+
** 创建群集
** 解散群集

默认情况下提供的用户组（管理员，部署者，监视器和服务器管理员）均已获得一组全局权限和服务器权限。默认情况下，管理员和服务器管理员都被授予全部全局和服务器权限;也就是说，他们是超级用户。这些用户组保留这些权限以保持服务器的完整功能很重要。但是，将个人用户分配到这些组中时应该小心，因为每个这样的用户都会立即拥有相同的权限。

默认情况下，管理员和服务器管理员组也具有群集 - 创建和群集 - 解除权限。

另外两个默认用户组（Deployers和Monitors）具有非常有限的一组权限。包含这两个用户组是为了说明在为组分配权限时可能采用的粒度。例如，对于部署者，您可能只想授予他们与部署相关的权限（创建，删除，部署，修改和查看部署）。

您可以修改现有用户组的权限，例如默认提供的用户组。您还可以创建新的用户组，然后将全局权限分配给该组，并指定该用户组是否可以在所有服务器上运行或仅在特定服务器组上运行。

=== 全局权限参考

全局权限包含以下区域，可能会按照下面的说明给予用户组：

* 应用程序：用户组可能只能查看应用程序和/或控制（启动，停止，重新启动）应用程序
* 审计流程：用户组可以通过流量分析器选项卡审计流程
* 审计流程 - 管理功能：用户组可以停止任何正在运行的流程分析
* 部署：可以为用户组分配一个或多个与部署相关的权限：创建，删除，部署，修改或查看部署
* 端点：用户组可以被赋予启动和停止端点的能力
* 执行脚本：用户组可能具有执行脚本的能力
* 流程：用户组可能只能查看流程和/或控制流程（启动，停止，清除统计）
* 管理警报定义：可以为用户组提供管理警报定义的功能
* 管理警报目标：可以为用户组管理警报目标
* 管理警报通知：可以为用户组提供管理警报通知的功能
* 管理服务器组：可以为用户组提供管理服务器组的能力
* 管理用户组：用户组可以被赋予管理用户组的能力
* 管理用户用户组可以被赋予管理用户的能力
* 池用户组可以被赋予修改池的能力
* 存储库项目：用户组可以被赋予删除，修改和/或读取存储库项目的能力
* 查看活动：用户组可以被赋予查看活动的能力
* 查看提醒：用户组可能有权查看提醒

=== 服务器权限参考

服务器权限包括以下内容并适用于指定的服务器组或所有服务器：

* 集群：用户组可以被赋予创建或解散集群的能力。
* 文件：用户组可以被赋予管理删除，修改和/或查看文件的能力。
* 服务器：用户组可以被赋予修改，注册，重新启动，取消注册和/或查看服务器的能力。
* 线程：用户组可以被赋予查看和/或终止线程的能力。

== 另请参阅

* 有关设置用户的信息，请参阅 link:/mule-management-console/v/3.6/setting-up-and-managing-users-in-mmc[在MMC中设置和管理用户]或 link:/mule-management-console/v/3.6/setting-up-and-managing-users-via-ldap[通过LDAP设置和管理用户]。
* 有关工具选项（管理外壳和计划程序）的说明，请参阅 link:/mule-management-console/v/3.6/automating-tasks-using-scripts[使用脚本自动执行任务]。
