= 添加和管理警报和SLA
:keywords: mmc, alerts, slas

*  <<View Raised Alerts>>
*  <<View Alerts on the Dashboard>>
*  <<Manage Alerts>>
*  <<Set Up Alert Destinations>>
*  <<Set Up Alert Notifications>>

本主题让您开始处理警报。它向您显示如何添加新警报，然后查看和管理警报。由于本主题仅介绍一种情况，因此您还应该在 link:/mule-management-console/v/3.7/working-with-alerts[使用警报]中查看有关SLA和警报的完整信息。

警报让您可以设置控制台来检查服务器上的潜在问题，或者可能会导致服务器问题的情况。您可以通过“警报”窗格定义条件（称为SLA）。这些情况稍后可能会触发控制台显示警告消息，警告消息或提醒您有关问题的情况。

=== 添加新提醒

以下是添加新警报的步骤：

* 首先点击“提醒”标签，然后点击左侧导航栏中的提醒定义。点击新警报按钮。 （这些在下图中圈出。）
+
image:new-alert1.png[新报警1]

* 从下拉列表中选择要添加的警报类型。例如，选择URL Health，如下所示。
+
image:new-alert-type.png[新的警报型]

* 指定此类警报的参数。指定警报类型后，“添加警报”对话框会提示您输入该类型警报的参数。对于URL健康警报，您提供警报名称，说明，选择严重性级别，选中活动框，指示外部网站的URL，将引发警报的预期状态代码以及等待期（在秒）。一旦指定了所有参数，请单击保存。在这个例子中，URL是http://www.google.com，预期的状态码是200。
+
image:new-alert2.png[新警报2]

== 查看引发的提醒

保存新警报后，控制台会跟踪条件是否符合警报参数。如果是这样，控制台会发出警报（您可能会看到一条弹出消息，指出引发了特定警报）。为了引起您对这些警报的注意，在每个屏幕的顶部，控制台会发布一个标志，指示存在一定数量的未读警报和新警报的数量（在下图中圈出）。

在警报屏幕导航栏中单击查看引发的警报以查看引发的警报。 （见下图）

image:view-alerts.png[视图的警报]

View Alerts（查看警报）屏幕显示汇总提示警报的表格。未读警报以粗体显示，以区别于您已阅读的警报。点击提醒即可阅读提醒详情。

image:view-alerts-details.png[视图的警报，细节]

读完警报后，控制台将其标记为已读。您也可以选中警报左侧的框，然后单击标记为读取按钮。

== 在仪表板上查看警报

您还可以从仪表板看到引发的警报。点击仪表板选项卡，您应该看到类似于下图的内容：

image:alert-dashboard.png[警报仪表板]

== 管理提醒

警报必须具有活动状态才能由控制台提出。默认情况下，您创建的新警报是“活动”。 （“新建警报”屏幕中默认选中“活动”框。）

您可以随时设置或更改警报状态。

image:alert-status.png[警戒状态]

单击导航栏中的警报定义，然后检查要更改状态的警报（或警报）。接下来，点击控制按钮并选择激活或禁用。

== 设置警报目标

发出警报时，除了警报屏幕外，控制台还可以通过电子邮件或SNMP通知您。要接收警报电子邮件或SNMP通知，首先要设置电子邮件目的地，然后设置通知条件。

从警报屏幕上的导航栏中单击警报目标，然后输入警报目标的名称，并选择通知类型（电子邮件或SNMP）。

image:alert-dest1.png[警报-DEST1]

接下来，完成剩余的字段，如下所示。对于Google邮件（gmail），将SMTP服务器指定为`smtp.googlemail.com`，将SMTP端口指定为465.保留Secured框并选中Use TSL / SSL框。完成后点击保存。

image:alerts-destination-add-email-google.png[警报目的地 - 添加电子邮件，谷歌]

== 设置警报通知

目标设置完成后，您可以设置通知条件。

点击左侧导航栏中的警报通知，然后点击新建通知按钮，

image:alerts-notification.png[警报通知]

输入一个名称来标识通知。如果需要，您可以指定一个过滤器，以便只有特定的警报才会发送到目标。如果您未定义过滤器，则将所有警报发送到目标。然后，从下拉列表中选择一个目的地。该列表已填入现有目的地。

完成剩余的通知字段：

* 电子邮件"to"地址
* 电子邮件"from"地址
* 电子邮件的主题
* 要包含在电子邮件正文中的任何消息

完成后，点击底部的保存按钮。

image:alerts-notification-complete.png[警报通知完成]

现在让我们看看如何将过滤器添加到通知中。 （如果您在创建通知时没有添加过滤器，则始终可以通过编辑通知返回并执行此操作。）单击“过滤器”旁边的“添加”按钮打开过滤器定义显示。使用下拉列表，选择过滤器字段，然后选择该字段的值。

image:alerts-notification-filter.png[警报通知过滤器]

例如，下图将过滤器字段设置为Alert。 Value下拉列表显示了所有定义的警报，我们选择URLHealthAlert。一定要点击保存添加此过滤器。点击添加将其他过滤器添加到通知中，然后单击保存以保存每个过滤器。请记住，使用多个过滤器，所有过滤条件必须为真才能发送通知。

image:alerts-notification-filter1.png[警报通知，过滤器1]

如果您改变主意并想要移除过滤器，只需点击过滤器右侧的红色X.

image:alerts-notification-filter2.png[警报通知，过滤器2]
