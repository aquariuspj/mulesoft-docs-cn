= 使用服务器
:keywords: tcat, server

服务器选项卡显示包含Tcat服务器客户端的Tomcat实例，允许您使用Tcat服务器管理它们。服务器被组织成_groups_。点击左侧导航树中的某个组以查看其服务器，或点击*All*查看所有服务器。单击一个服务器的复选框以对其执行操作，例如将其添加到组中，或者单击服务器的名称以查看其详细信息。

本页介绍如何使用服务器。有关监视服务器详细信息的信息，请参阅 link:/tcat-server/v/7.1.0/monitoring-a-server[监视服务器]。

== 注册服务器

将Tcat Server客户端添加到Tomcat实例时，该实例在“服务器”选项卡上的“未注册”组中显示为服务器。然后您可以注册它，以便您可以使用Tcat Server进行管理。

image:unregd3.png[unregd3.png]

{0}}如果您的网络不支持多播或者您通过VPN连接，未注册的服务器不会显示在未注册的组中，您必须手动注册服务器。

从未注册组注册服务器：

. 选中一个或多个未注册服务器的复选框，然后单击*Register*。如果您想在注册时将其添加到服务器组，请单击*Register and Add to Group*，然后选择该组。
. 或者，单击服务器的名称并为其键入新名称。每个名称必须是唯一的。
. 完成服务器重命名后，请点击*Save*。

当您单击导航树中的*All*时，新注册的服务器现在出现在“服务器”选项卡上。要将它们添加到特定组，请参阅下一节。

== 使用服务器配置文件

服务器配置文件是一组可以一次发布到多个服务器的环境变量和文件。您可以使用该配置文件覆盖Tomcat实例上操作系统，用户和应用程序的变量。您可以在查看服务器的详细信息时设置服务器配置文件，也可以通过在服务器选项卡上选择它们并单击*Set Profile*，然后选择希望它们使用的配置文件来设置多个服务器的配置文件。每个服务器只能设置一个配置文件。

如果服务器配置文件包含影响Tomcat启动的环境变量，则必须在这些变量生效之前重新启动服务器（请参见下文）。

[WARNING]
====
如果您在Tcat Server之外更改环境变量并希望它们在Tomcat实例上生效，则必须在Tcat Server之外手动重新启动Tomcat，因为Tcat Server使用当前JVM的环境变量以及配置文件中指定的环境变量来重新启动Tomcat 。
====

有关创建服务器配置文件的信息，请参阅 link:/tcat-server/v/7.1.0/working-with-server-profiles[使用服务器配置文件]。

== 重新启动服务器

您可以通过选中复选框并点击*Restart*来重新启动一台或多台服务器。您还可以在 link:/tcat-server/v/7.1.0/monitoring-a-server[查看其细节]时重新启动服务器。

== 创建一个服务器组

服务器组只是服务器的逻辑分组。 All组列出所有注册的服务器，未注册的组列出所有包含Tcat Server客户端但尚未由Tcat Server管理的服务器（请参阅上面的"Registering a Server"）。

*To create a server group:*

. 在服务器选项卡左侧的导航窗格中，点击*New Group*。
+
image:newgroup1.png[newgroup1]
+
. 输入该组的名称，然后点击*OK*。

您现在可以开始向该组添加服务器。您也可以 link:/tcat-server/v/7.1.0/deploying-applications[部署软件包]访问该组，使您可以一步将所有软件包的应用程序部署到所有组的服务器。

== 重命名组

要更改组的名称，请在导航树中选择它，单击*Rename*，输入新名称，然后单击*OK*。

== 查找服务器

有几种方法可以在Tcat服务器管理控制台中找到服务器：

* 在Servers选项卡顶部的搜索框中输入服务器名称，然后从显示的列表中选择它。
* 如果您知道服务器位于哪个组，请单击左侧导航树中的组名称，然后浏览该组中的服务器列表。
* 如果服务器不是组的成员，请单击导航树中的*All*以查看所有服务器。
* 如果服务器尚未注册为由Tcat Server管理，请点击*Unregistered*。

== 将服务器添加到组

服务器组提供了组织服务器的便捷方式，例如正在开发和正在生产的服务器。您可以将应用程序部署到服务器组，而无需部署到该组中的每台服务器。将应用程序部署到服务器组后，随后添加到该组的每个服务器都会立即部署应用程序。

*To add a server to a group:*

. 在“服务器”选项卡上，选中要添加到组的一台或多台服务器的复选框。
. 点击*Add to Group*，然后从下拉列表中选择该组。
+
image:addtogroup1.png[addtogroup1]
+
. 在确认屏幕上，单击*Yes*将选定的服务器添加到组中，并将该组的应用程序部署到服务器。

部署到该组的任何应用程序现在都会部署到您添加到组中的服务器。要撤销此操作，可以从组中删除一台或多台服务器。

== 从组中删除服务器

从组中删除服务器时，将从该服务器中取消部署到该组的任何应用程序，并且当您在导航树中单击该服务器组时，该服务器不再显示。

*To remove servers from the group:*

. 选中要从组中删除的一个或多个服务器的复选框。
. 点击*Remove from Group*，然后从下拉列表中选择该组。
. 在确认屏幕上，单击*Yes*从组中删除选定的服务器，并从服务器中取消部署该组的应用程序。

== 删除服务器组

如果您不再需要服务器组，则可以从系统中删除它。删除服务器组会*not*删除该组中的服务器，但只需删除该组。但是，它会取消部署到组的所有应用程序。

要删除服务器组，请在导航树中选择该组，然后单击*Delete*，然后单击*OK*以确认您想要删除该组并从该组中的服务器中取消部署其所有应用程序。

== 取消注册服务器

如果您的服务器清单中不再需要服务器，则可以将其从存储库中删除。

*To remove a server:*

. 选中您要取消注册的一个或多个服务器的复选框。
. 点击*Unregister*。
. 在确认屏幕上，单击*Yes*取消注册选定的服务器，以便您不能再使用Tcat服务器管理控制台管理它们。

这些服务器不再出现在它们以前分配到的组中，也不在所有组中。

如果控制台变得不可用，并且您想取消注册其服务器，以便您可以在另一台控制台上注册它们，则必须手动删除每台服务器下的`webapps\agent\WEB-INF\truststore.jks`文件以注销它。然后服务器再次变为可用于在另一个控制台中注册。

== 手动添加服务器

在某些情况下，未注册的服务器不会出现在未注册的组中。如果您的网络中不支持多播，如果您通过VPN连接，或者在您取消注册服务器后出现错误，则可能会发生这种情况。在这种情况下，您可以通过单击*New Server*手动注册服务器。然后输入服务器名称和服务器代理的URL，例如http：// localhost：8080 / agent（用正确的主机和端口替换localhost和8080）。

有关其他疑难解答提示，请参阅 link:/tcat-server/v/7.1.0/troubleshooting[故障排除]。

link:/tcat-server/v/7.1.0/deploying-to-amazon-ec2[<<上一页：*部署到Amazon EC2 *]

link:/tcat-server/v/7.1.0/deploying-applications[Next：*部署应用程序* >>]

== 另请参阅

*  https://www.mulesoft.com/tcat/download [Tcat下载]
*  https://support.mulesoft.com [联系MuleSoft]
