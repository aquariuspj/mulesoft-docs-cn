= 添加或删除标题策略

如果您在Anypoint Platform中配置了自定义策略，则添加或移除标题策略的过程基本相同。以下步骤显示如何在Anypoint Platform中设置和应用策略。

要添加或删除标题策略，首先需要执行一些设置：

. 转到API管理器> API管理。
+
. 点击自定义政策。
+
自定义策略会显示列出可用于API的自定义策略（如果有）。
+
. 点击添加自定义政策。
. 选择您用来部署API的Mule运行时版本。
{Name}中输入该政策的名称，例如`add request header policy`。
. 在策略定义中，单击选择文件以查找您下载的示例中的YAML文件`add-request.yaml`。
. 在策略配置中，选择您下载的XML文件，例如`add-request.xml`。
. 点击添加。
+
策略（在此示例中添加请求标头策略）显示在“自定义策略”页面上。
image:gw-custom-pol-list.png[GW-定制-POL列表]

== 应用添加请求/响应头策略

继续添加请求标头策略的示例，请按照此过程中的步骤应用以下任一策略：

* 添加请求标头策略
* 添加响应标头策略

要应用添加请求标头策略或添加响应标头策略：

. 假设您已经部署了API版本，请在“API管理”中选择该实例。
. 在API仪表板上，从项目列表中选择策略。
+
例如，“添加请求标题策略”出现在“可用策略”列表中。
+
如果标题已由客户端或其他策略提供，则该值将被您在此策略中提供的值覆盖。
+
. 点击应用。
+
出现Apply Add Request Header Policy对话框。
+
. 输入标题的名称和值。例如，在左侧键入`extra-header`，在右侧键入`myvalue`。
+
. （可选）在表头的值中包含表达式。
+
例如，包含以下表达式以在头文本中替换用户代理的名称。
+
`'#[message.inboundProperties['user-agent']]'`
+
. 点击 image:gw-apply-pol-plus-icon.png[GW-申请-POL加图标]。
. 有选择地添加更多的标题名称和值，以相同的方式添加，然后点击应用。
+
您应用的策略从“可用策略”列表移至“应用策略”列表。

== 应用移除请求/响应头策略

执行此过程中的步骤以应用以下任一策略：

* 删除请求标头策略
* 删除响应标题政策

要应用删除请求标头或删除响应标头策略：

. 在API仪表板上，从项目列表中选择政策。
+
此示例中的策略“删除请求标题策略”出现在“可用策略”列表中。
+
如果标题已由客户端或其他策略提供，则该值将被您在此策略中提供的值覆盖。
+
. 点击应用。
+
出现应用删除请求标题策略对话框。
+
. 键入要删除的每个标题的名称，用逗号分隔。
+
您可以使用通配符来删除具有相似名称的属性。例如，使用`foo-*`将删除foo-bar，foo-test。
+
. 点击应用。
+
您应用的策略从“可用策略”列表移至“应用策略”列表。


== 另请参阅

*  link:/anypoint-exchange/to-download-an-asset[从Exchange下载资产]
