= 在自定义仪表板中配置表格

在Anypoint Monitoring中，您可以配置自定义仪表板的表格。除了配置其他图表通用的属性（如高级或基本度量标准查询和时间范围）之外，还可以：

* 以表格格式排列时间序列数据并显示汇总数据。
* 添加彩色编码阈值以指示值是高于，低于还是在给定范围内。
* 提供从列中的值到指定网页的链接。
* 设置分页属性。

//通用设置由单状态，图表，表格共享
// ==一般
包括::包括-一般config.adoc []

//时间范围设置由singlestat和table共享
// ==时间范围
包括::包括时间范围-config.adoc []

== 选项（数据和分页设置）

在“选项”配置选项卡中，您可以为自定义仪表板中的表格设置布局，列和分页选项。

=== 数据设置（选项选项卡）

[%header,cols="1,4"]
|===
2 + | 值设置
| 时间序列以排列|

在给定的时间段创建一个包含给定度量值的表格。像时间序列到列一样，第一列Time是时间戳（例如`2018-04-25 06:37:40`）。但是，后续的列是Metric（用于列出特定指标，例如`worker-0`）和Value以列出该时间段的指标值。例：

image::table-series-to-rows.png[时间序列到列]
| 时间序列以列|

创建一个表格，显示给定时间段内给定指标的值。像时间序列到行，第一列，时间，是时间戳。但是，每个指标都有一个列，例如`worker-0`，列出了指定时间段内该指标的值。例：

image::table-series-to-columns.png[时间序列到列]


| 时间序列到聚合a |

将时间序列转换为一个表，该表计算给定度量的总计，平均值等。第一列Metric用于`worker-0`等度量标准，后续列用于这些值的任意组合：给定度量的平均值，最小值，最大值，总计，当前值或计数。例：

image::table-aggregations.png[时间序列到聚合]

请注意，此示例使用颜色编码的<<thresholds, thresholds>>（请参阅Avg和Max单元格中的单元格着色，Min值的着色值）。
|===

////
TODO _REMOVED FOR CONNECT，以后退
| 注释 | 如果为仪表板启用了注释，则在表中显示注释。在此模式下，您在指标标签中查询的内容将被忽略。 *TODO, VERIFY and how do you enable annotations?*
| 表 |  *TODO, what does this do*列及其顺序由数据查询确定。
|  JSON数据 | 用于没有日期直方图的Elasticsearch或Elasticsearch Raw Document查询的模式。 *TODO: VERIFY mention Elasticsearch?*
////

如果选择“时间序列到聚合”，则可以将预定义列添加到表中。

[%header,cols="1,4"]
|===
2 + | 列进行聚合
| 自动 | 列及其顺序由数据查询确定。仅当时间序列为行，时间序列为列，注释或表格被选中时才可用。
| 平均值 | 对给定指标的记录数据进行平均。
| 最小 | 为给定度量提供最低的记录值。
| 最大 | 为给定指标提供最高记录值。
| 总计 | 提供表格中记录的所有值的总和。
| 当前 | 显示给定度量的当前值。
| 计数 | 提供在度量标准上收集的数据点总数。
|===

////
TODO _REMOVED FOR CONNECT。可能会再来。
| 空白文本框 | 选择JSON数据时出现。 *TODO: need JSON example?*
////

=== 传呼（选项标签）

在“选项”配置选项卡中，您可以为表设置分页属性，以便它们不会变得很长并且更易于管理。

[%header,cols="1,4"]
|===
2 + | 传呼属性
| 每页行数 | 每页允许的表行数。
| 滚动 | 使表格可滚动的复选框。
| 字体大小 | 默认字体大小从80％到250％的百分比。
|===

完成配置后，可以打开另一个配置选项卡或单击保存更改。要退出配置并返回仪表板，只需点击`X`。

== 列样式（选项，数据类型，阈值链接）

在“列样式”配置选项卡中，可以创建（+添加）并为表格列应用一个或多个规则。规则列在“列样式”窗格的左侧。

要删除规则，您需要单击它，然后找到并单击屏幕左下角附近的“删除规则”按钮。

=== 选项（栏样式选项卡）

[%header, cols="1,4"]
|===
2 + | 选项
| 应用于名为  | 的列标识规则适用的列。您需要提供名称或正则表达式（正则表达式），以匹配表中一列或多列的名称。对于正则表达式，您使用以下语法：`/my.*regex/`
| 列标题 | 为列提供标题。例如，如果您将`Avg`列添加到汇总数据的表格中，则可以将列名称更改为`Average`。您可以使用字符串`$1`作为正则表达式。
| 将值呈现为链接 | 将列中的值视为可通过<<settings_link, Link>>设置进​​行配置的链接。
|===

[[settings_link]]
=== 链接（栏样式选项卡）

在“列样式”配置选项卡中，可以使用配置从值到指定网页的链接。

请注意，只有当_Render Value As Link_被选中时，链接设置才可用。

[%header, cols="1,4"]
|===
2 + | 链接
| 网址a |
指定当您单击列中的值时可以打开的URL。
| 工具提示a |

提供链接的描述。当最终用户通过链接悬停在单元格上时，将显示此文本。使用与URL相同的变量。
| 在新标签页中打开 | 单击该值时在新浏览器标签页中显示网页内容。
|===

[%header, cols="1,4"]
|===
2 + | 输入
| 键入 | 列中值的数据类型。有效值是数字，字符串，日期和隐藏。
| 单位 | 用于该值的度量单位的标签，例如`bytes`和`megabytes/second`。在将此标签添加到值之前，了解您的值的数据类型非常重要。各种各样的单位可利用。
| 小数 | 允许使用十进制值的精度级别，例如`2`将`10.12345`的值限制为`10.12`。
|===

////
不应该认为表链接为真：
（相对或绝对）。您可以使用特殊变量来指定单元格值：

有效值：

*  `$__cell`引用当前单元格值。
*  `$__cell_n`引用当前行中的第N列值。列索引从`0`开始。例如，`` $ __ cell_1`引用第二列的值。
////

[[thresholds]]
=== 阈值（列样式选项卡）

在“列样式”配置选项卡中，当“类型”设置为“数字”时，可以设置数据的阈值。

[%header, cols="1,4"]
|===
2 + | 阈值
| 阈值 | 逗号分隔的值，例如`50000000,100000000`。这两个值之间的值可能会被视为警告值。低于第一个值的值可能会被视为可接受的，而高于第二个值的值可能会被视为错误。请注意，如果指定的单位在表格_中转换为MB或GB，则您的阈值必须与用于数据的度量单位（例如，`byte`）匹配。
| 颜色模式 | 指示是否将颜色代码应用于单元格中的值，单元格，整个行或颜色编码是否为禁用。
| 颜色 | 用于对指定的阈值设置下方（最左侧的颜色框），（中间颜色框）和上方（最右侧的颜色框）之间的值进行编码的颜色。例如，绿色值可能代表OK，黄色代表警告，红色代表错误。您也可以反转颜色编码。
|===

完成配置后，可以打开另一个配置选项卡或单击保存更改。要退出配置并返回仪表板，只需点击`X`。
